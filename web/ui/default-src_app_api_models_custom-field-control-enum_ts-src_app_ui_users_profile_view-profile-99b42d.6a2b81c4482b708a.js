"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([["default-src_app_api_models_custom-field-control-enum_ts-src_app_ui_users_profile_view-profile-99b42d"],{7045:(Y,P,i)=>{i.d(P,{$:()=>u});var u=(()=>{return(g=u||(u={})).SIMPLE="simple",g.WEBSHOP="webshop",u;var g})()},4685:(Y,P,i)=>{i.d(P,{z:()=>u});var u=(()=>{return(g=u||(u={})).CHECKBOX="checkbox",g.ENTITY_SELECTION="entitySelection",g.MULTI_SELECTION="multiSelection",g.RADIO="radio",g.RICH_EDITOR="richEditor",g.SINGLE_SELECTION="singleSelection",g.TEXT="text",g.TEXTAREA="textarea",g.UPLOAD="upload",u;var g})()},7901:(Y,P,i)=>{i.d(P,{U:()=>u});var u=(()=>{return(g=u||(u={})).BAD="bad",g.GOOD="good",g.NEUTRAL="neutral",g.VERY_BAD="veryBad",g.VERY_GOOD="veryGood",u;var g})()},9593:(Y,P,i)=>{i.d(P,{R:()=>I});var u=i(520),g=i(1352),l=i(8637),m=i(2198),d=i(4850),x=i(6435),w=i(297);let I=(()=>{class a extends g.b{constructor(h,v){super(h,v)}validateEmailChange$Response(h,v){const p=new l.c(this.rootUrl,a.ValidateEmailChangePath,"post");return h&&p.path("key",h.key,{}),this.http.request(p.build({responseType:"text",accept:"*/*",context:v})).pipe((0,m.h)(c=>c instanceof u.Zn),(0,d.U)(c=>c.clone({body:void 0})))}validateEmailChange(h,v){return this.validateEmailChange$Response(h,v).pipe((0,d.U)(p=>p.body))}validateUserRegistration$Response(h,v){const p=new l.c(this.rootUrl,a.ValidateUserRegistrationPath,"post");return h&&p.path("key",h.key,{}),this.http.request(p.build({responseType:"json",accept:"application/json",context:v})).pipe((0,m.h)(c=>c instanceof u.Zn),(0,d.U)(c=>c))}validateUserRegistration(h,v){return this.validateUserRegistration$Response(h,v).pipe((0,d.U)(p=>p.body))}manuallyValidateUserRegistration$Response(h,v){const p=new l.c(this.rootUrl,a.ManuallyValidateUserRegistrationPath,"post");return h&&p.path("user",h.user,{}),this.http.request(p.build({responseType:"json",accept:"application/json",context:v})).pipe((0,m.h)(c=>c instanceof u.Zn),(0,d.U)(c=>c))}manuallyValidateUserRegistration(h,v){return this.manuallyValidateUserRegistration$Response(h,v).pipe((0,d.U)(p=>p.body))}resendUserRegistrationEmail$Response(h,v){const p=new l.c(this.rootUrl,a.ResendUserRegistrationEmailPath,"post");return h&&p.path("user",h.user,{}),this.http.request(p.build({responseType:"text",accept:"*/*",context:v})).pipe((0,m.h)(c=>c instanceof u.Zn),(0,d.U)(c=>c.clone({body:void 0})))}resendUserRegistrationEmail(h,v){return this.resendUserRegistrationEmail$Response(h,v).pipe((0,d.U)(p=>p.body))}manuallyValidateEmailChange$Response(h,v){const p=new l.c(this.rootUrl,a.ManuallyValidateEmailChangePath,"post");return h&&p.path("user",h.user,{}),this.http.request(p.build({responseType:"text",accept:"*/*",context:v})).pipe((0,m.h)(c=>c instanceof u.Zn),(0,d.U)(c=>c.clone({body:void 0})))}manuallyValidateEmailChange(h,v){return this.manuallyValidateEmailChange$Response(h,v).pipe((0,d.U)(p=>p.body))}resendEmailChangeEmail$Response(h,v){const p=new l.c(this.rootUrl,a.ResendEmailChangeEmailPath,"post");return h&&p.path("user",h.user,{}),this.http.request(p.build({responseType:"text",accept:"*/*",context:v})).pipe((0,m.h)(c=>c instanceof u.Zn),(0,d.U)(c=>c.clone({body:void 0})))}resendEmailChangeEmail(h,v){return this.resendEmailChangeEmail$Response(h,v).pipe((0,d.U)(p=>p.body))}}return a.ValidateEmailChangePath="/validate/email-change/{key}",a.ValidateUserRegistrationPath="/validate/registration/{key}",a.ManuallyValidateUserRegistrationPath="/{user}/registration/validate",a.ResendUserRegistrationEmailPath="/{user}/registration/resend",a.ManuallyValidateEmailChangePath="/{user}/email-change/validate",a.ResendEmailChangeEmailPath="/{user}/email-change/resend",a.\u0275fac=function(h){return new(h||a)(x.LFG(w.p),x.LFG(u.eN))},a.\u0275prov=x.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},2730:(Y,P,i)=>{i.d(P,{c:()=>m});var u=i(6435);const g=["*"],l=new u.OlP("floatLabels");let m=(()=>{class d{}return d.\u0275fac=function(w){return new(w||d)},d.\u0275cmp=u.Xpm({type:d,selectors:[["float-labels"]],features:[u._Bn([{provide:l,useExisting:d,multi:!0}])],ngContentSelectors:g,decls:1,vars:0,template:function(w,I){1&w&&(u.F$t(),u.Hsn(0))},encapsulation:2}),d})()},5186:(Y,P,i)=>{i.d(P,{$:()=>p});var u=i(7947),g=i(6163),l=i(3140),m=i(6435),d=i(9808),x=i(867);function w(c,_){if(1&c&&m._UZ(0,"avatar",3),2&c){const e=m.oxw();m.Q6J("icon",e.icon)}}function I(c,_){if(1&c){const e=m.EpF();m.TgZ(0,"img",4),m.NdJ("click",function(){return m.CHM(e),m.oxw().showLightbox()}),m.qZA()}if(2&c){const e=m.oxw();m.Q6J("src",e.image.url,m.LSH)}}function a(c,_){if(1&c&&m._UZ(0,"ngx-gallery",5),2&c){const e=m.oxw();m.Q6J("options",e.galleryOptions)("images",e.galleryImages)}}const h=[{imageSize:l.J5.Contain,imageAnimation:l.zw.Slide,thumbnailsMoveSize:4,previewKeyboardNavigation:!0,previewCloseOnClick:!0,previewCloseOnEsc:!0,thumbnailsAutoHide:!0}],v=[{width:"0",height:"0",image:!1,thumbnails:!1,previewArrows:!1,previewKeyboardNavigation:!0,previewCloseOnClick:!0,previewCloseOnEsc:!0}];let p=(()=>{class c extends u.H{constructor(e){super(e)}ngOnInit(){super.ngOnInit();let e=document.getElementById("fontAwesomeLink");if(e||(e=document.createElement("link"),e.rel="stylesheet",e.href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(e)),this.image){const C=[this.image,...this.additionalImages||[]];this.galleryImages=C.map(g.Kc),1===C.length?(this.element.classList.add("single-image"),this.galleryOptions=v):this.galleryOptions=h}else this.galleryImages=[]}showLightbox(){this.gallery.openPreview(0)}}return c.\u0275fac=function(e){return new(e||c)(m.Y36(m.zs3))},c.\u0275cmp=m.Xpm({type:c,selectors:[["profile-images"]],viewQuery:function(e,C){if(1&e&&m.Gf(l.g$,5),2&e){let Q;m.iGM(Q=m.CRH())&&(C.gallery=Q.first)}},inputs:{icon:"icon",image:"image",additionalImages:"additionalImages"},features:[m.qOj],decls:3,vars:3,consts:[["size","128","iconSize","128px",3,"icon",4,"ngIf"],["class","single-image cursor-pointer",3,"src","click",4,"ngIf"],[3,"options","images",4,"ngIf"],["size","128","iconSize","128px",3,"icon"],[1,"single-image","cursor-pointer",3,"src","click"],[3,"options","images"]],template:function(e,C){1&e&&(m.YNc(0,w,1,1,"avatar",0),m.YNc(1,I,1,1,"img",1),m.YNc(2,a,1,2,"ngx-gallery",2)),2&e&&(m.Q6J("ngIf",0===C.galleryImages.length&&C.icon),m.xp6(1),m.Q6J("ngIf",1===C.galleryImages.length),m.xp6(1),m.Q6J("ngIf",C.galleryImages.length>0))},directives:[d.O5,x.A,l.g$],encapsulation:2,changeDetection:0}),c})()},471:(Y,P,i)=>{i.d(P,{m:()=>v});var u=i(7901),g=i(1879),l=i(6435),m=i(538),d=i(9808),x=i(8397),w=i(70);function I(p,c){if(1&p&&(l.TgZ(0,"span",4),l._uU(1),l.qZA()),2&p){const _=l.oxw();l.xp6(1),l.hij(" ",_.textLeft," ")}}function a(p,c){if(1&p&&(l.ynx(0),l._UZ(1,"icon",5),l.BQk()),2&p){const _=c.$implicit,e=l.oxw();l.xp6(1),l.Q6J("icon",e.resolveIcon(_))}}function r(p,c){if(1&p&&(l.TgZ(0,"span",6),l._uU(1),l.qZA()),2&p){const _=l.oxw();l.xp6(1),l.hij(" ",_.textRight," ")}}const h=function(){return[1,2,3,4,5]};let v=(()=>{class p{constructor(_){this.referenceHelper=_,this.score=0}get _score(){if(this.level)switch(this.level){case u.U.VERY_BAD:return 1;case u.U.BAD:return 2;case u.U.NEUTRAL:return 3;case u.U.GOOD:return 4;case u.U.VERY_GOOD:return 5}else if(this.score)return+this.score;return 0}resolveStyle(){const _=this._score;return _>0&&_<2?"red":_>=2&&_<3?"orange":_>=3&&_<4?"yellow":_>=4&&_<5?"green":5===_?"darkGreen":""}resolveLevelLabel(){if(this.level)return this.referenceHelper.resolveLevelLabel(this.level)}resolveIcon(_){return _<=this._score?g.l.StarFill:this._score<_&&this._score>_-1?g.l.StarHalf:g.l.Star}}return p.\u0275fac=function(_){return new(_||p)(l.Y36(m.o))},p.\u0275cmp=l.Xpm({type:p,selectors:[["rating-stats"]],inputs:{score:"score",level:"level",textLeft:"textLeft",textRight:"textRight"},decls:4,vars:7,consts:[["class","ellipsis mr-2",4,"ngIf"],[1,"stars",3,"tooltip"],[4,"ngFor","ngForOf"],["class","ellipsis ml-2",4,"ngIf"],[1,"ellipsis","mr-2"],[1,"icon",3,"icon"],[1,"ellipsis","ml-2"]],template:function(_,e){1&_&&(l.YNc(0,I,2,1,"span",0),l.TgZ(1,"div",1),l.YNc(2,a,2,1,"ng-container",2),l.qZA(),l.YNc(3,r,2,1,"span",3)),2&_&&(l.Q6J("ngIf",e.textLeft),l.xp6(1),l.Tol(e.resolveStyle()),l.Q6J("tooltip",e.resolveLevelLabel()),l.xp6(1),l.Q6J("ngForOf",l.DdM(6,h)),l.xp6(1),l.Q6J("ngIf",e.textRight))},directives:[d.O5,x.i9,d.sg,w.o],encapsulation:2,changeDetection:0}),p})()},7437:(Y,P,i)=>{i.d(P,{k:()=>j,W:()=>Ft});var u=(()=>{return(n=u||(u={})).USER_PAYMENTS="userPayments",n.USER_SEND_VOUCHERS="userSendVouchers",u;var n})(),g=(()=>{return(n=g||(g={})).BANKING="banking",n.INFORMATION="information",n.MANAGEMENT="management",n.MARKETPLACE="marketplace",g;var n})(),l=i(5174),m=i(288),d=i(2462),x=i(1323),w=i(7045),I=i(3553),a=i(1879),r=i(5466),h=i(7e3),v=i(6163),p=i(7300),c=i(6243),_=i(591),e=i(6435),C=i(7595),Q=i(9593),oe=i(3032),re=i(7055),le=i(5856),ce=i(2620),ue=i(134),H=i(8064),pe=i(6849),me=i(1963),U=i(9808),he=i(2032),ge=i(5186),_e=i(2730),fe=i(195),de=i(7107),ve=i(70),xe=i(5178),be=i(5300),Ae=i(471),we=i(7947),Pe=i(5531),ye=i(3551),Te=i(722),Ce=i(507),Ee=i(6628);const Ie=["mapContainer"];function Ue(n,s){1&n&&e.GkF(0)}function Oe(n,s){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"static-map",8),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("address",t.locatedAddresses[0])("width",t.singleMapWidth(e.lcZ(2,2,t.layout.breakpointChanges$)))}}const K=function(n){return{$implicit:n}};function Ye(n,s){if(1&n&&(e.ynx(0),e._UZ(1,"hr"),e.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5),e.qZA(),e.YNc(6,Ue,1,0,"ng-container",5),e.qZA(),e.YNc(7,Oe,3,4,"div",6),e.qZA(),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(3);e.xp6(5),e.hij(" ",t.i18n.address.address," "),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(4,K,t.addresses[0])),e.xp6(1),e.Q6J("ngIf",1===(null==t.locatedAddresses?null:t.locatedAddresses.length))}}function Ze(n,s){1&n&&e.GkF(0)}function ke(n,s){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Ze,1,0,"ng-container",5),e.qZA()),2&n){const t=s.$implicit;e.oxw(2);const o=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,K,t))}}function Se(n,s){if(1&n&&(e.ynx(0),e._UZ(1,"div",9,10),e.TgZ(3,"div",11),e.YNc(4,ke,2,4,"div",12),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.addresses)}}function Qe(n,s){if(1&n&&(e.TgZ(0,"h3",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Re(n,s){if(1&n&&(e.YNc(0,Qe,2,1,"h3",14),e._UZ(1,"address-details-with-custom-fields",15)),2&n){const t=s.$implicit,o=e.oxw();e.Q6J("ngIf",o.addresses.length>1),e.xp6(1),e.Q6J("address",t)}}let Le=(()=>{class n extends we.H{constructor(t,o,T,y,E){super(t),this.uiLayout=o,this.addressHelper=T,this.maps=y,this.countriesResolve=E,this.allInfoWindows=[]}ngOnInit(){super.ngOnInit(),this.locatedAddresses=(this.addresses||[]).filter(t=>t.location)}ngAfterViewInit(){this.locatedAddresses.length>1&&this.addSub(this.maps.ensureScriptLoaded().subscribe(()=>this.showMap()))}closeAllInfoWindows(){this.allInfoWindows.forEach(t=>t.close())}singleMapWidth(t){return t.has("xl")?400:t.has("gt-xs")?340:"auto"}showMap(){this.map=new google.maps.Map(this.mapContainer.nativeElement,{mapTypeControl:!1,streetViewControl:!1,minZoom:2,maxZoom:17,styles:this.uiLayout.googleMapStyles});const o=new google.maps.LatLngBounds;this.locatedAddresses.map(T=>{const y=new google.maps.Marker({title:T.name,icon:this.dataForFrontendHolder.dataForFrontend.mapMarkerUrl,position:new google.maps.LatLng(T.location.latitude,T.location.longitude)});o.extend(y.getPosition()),y.addListener("click",()=>{this.closeAllInfoWindows();let E=y.infoWindow;E||(E=new google.maps.InfoWindow({content:y.getTitle()}),this.allInfoWindows.push(E)),E.open(y.getMap(),y)}),y.setMap(this.map)}),this.map.addListener("click",()=>this.closeAllInfoWindows()),this.map.fitBounds(o)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(Pe.B),e.Y36(ye.u),e.Y36(H.Q),e.Y36(Te.W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["profile-addresses"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ie,5),2&t){let T;e.iGM(T=e.CRH())&&(o.mapContainer=T.first)}},inputs:{addresses:"addresses"},features:[e.qOj],decls:4,vars:2,consts:[[4,"ngIf"],["addressDetails",""],[1,"d-flex","flex-column","flex-sm-row"],[1,"flex-grow-1"],[1,"border-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","pt-1",4,"ngIf"],[1,"pt-1"],[3,"address","width"],[1,"map-container"],["mapContainer",""],[1,"row","no-gutters"],["class","col-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4"],["class","mt-3",4,"ngIf"],[3,"address"],[1,"mt-3"]],template:function(t,o){1&t&&(e.YNc(0,Ye,8,6,"ng-container",0),e.YNc(1,Se,5,1,"ng-container",0),e.YNc(2,Re,2,2,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf",1===(null==o.addresses?null:o.addresses.length)),e.xp6(1),e.Q6J("ngIf",(null==o.locatedAddresses?null:o.locatedAddresses.length)>1))},directives:[U.O5,U.tP,Ce.O,U.sg,Ee.l],pipes:[U.Ov],encapsulation:2,changeDetection:0}),n})();var Je=i(7229),Ne=i(1873),Be=i(3932),De=i(3030);function Ve(n,s){1&n&&e.GkF(0)}const G=function(n){return{$implicit:n}};function Me(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Ve,1,0,"ng-container",19),e.BQk()),2&n){const t=s.$implicit;e.oxw(4);const o=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,G,t))}}function Fe(n,s){if(1&n&&(e.TgZ(0,"div",17)(1,"h2",18),e._uU(2),e.qZA(),e.YNc(3,Me,2,4,"ng-container",11),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Oqu(t.i18n.user.profile.banking),e.xp6(1),e.Q6J("ngForOf",t.bankingActions)}}function We(n,s){1&n&&e.GkF(0)}function $e(n,s){if(1&n&&(e.ynx(0),e.YNc(1,We,1,0,"ng-container",19),e.BQk()),2&n){const t=s.$implicit;e.oxw(4);const o=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,G,t))}}function He(n,s){if(1&n&&(e.TgZ(0,"div",17)(1,"h2",18),e._uU(2),e.qZA(),e.YNc(3,$e,2,4,"ng-container",11),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Oqu(t.i18n.user.profile.management),e.xp6(1),e.Q6J("ngForOf",t.managementActions)}}function Ke(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,Fe,4,2,"div",16),e.YNc(3,He,4,2,"div",16),e.qZA(),e._UZ(4,"hr"),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.bankingActions.length>0),e.xp6(1),e.Q6J("ngIf",t.managementActions.length>0)}}function Ge(n,s){if(1&n&&e._UZ(0,"profile-images",20),2&n){const t=e.oxw(2);e.Q6J("image",t.user.image)("additionalImages",t.user.additionalImages)}}function je(n,s){if(1&n&&e._UZ(0,"profile-images",21),2&n){const t=e.oxw(2);e.Q6J("image",t.user.image)("additionalImages",t.user.additionalImages)("icon",t.SvgIcon.PersonCircle)}}function ze(n,s){if(1&n&&(e.TgZ(0,"label-value",22),e._UZ(1,"user-link",23),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.operatorOwner),e.xp6(1),e.Q6J("user",t.user.user)}}function qe(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.groupSet)("value",t.user.groupSet.name)}}function Xe(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.group)("value",t.user.group.name)}}function et(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.general.status)("value",t.userHelper.userStatus(t.user.status))}}function tt(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.data.nameLabel||t.i18n.user.name)("value",t.user.name)}}function nt(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.username)("value",t.user.username)}}function it(n,s){if(1&n&&(e.TgZ(0,"label-value",22),e._UZ(1,"user-link",23),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.mainBroker),e.xp6(1),e.Q6J("user",t.mainBroker)}}const at=function(n){return{"mb-1":n}};function st(n,s){if(1&n&&(e.ynx(0),e._UZ(1,"user-link",25),e.BQk()),2&n){const t=s.$implicit,o=s.last;e.xp6(1),e.Q6J("user",t)("ngClass",e.VKq(2,at,!o))}}function ot(n,s){if(1&n&&(e.TgZ(0,"label-value",22),e.YNc(1,st,2,4,"ng-container",11),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.otherBrokers),e.xp6(1),e.Q6J("ngForOf",t.otherBrokers)}}function rt(n,s){if(1&n&&(e._UZ(0,"label-value",24),e.ALo(1,"date")),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.registrationDate)("value",e.lcZ(1,2,t.user.registrationDate))}}function lt(n,s){if(1&n&&(e.TgZ(0,"label-value",22),e._UZ(1,"user-link",23),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.invitedBy),e.xp6(1),e.Q6J("user",t.user.invitedBy)}}function ct(n,s){if(1&n&&(e._UZ(0,"label-value",24),e.ALo(1,"date")),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.activationDate)("value",e.lcZ(1,2,t.user.activationDate))}}function ut(n,s){if(1&n&&(e.TgZ(0,"label-value",22)(1,"a",26),e._UZ(2,"icon",27),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.email),e.xp6(1),e.Q6J("href","mailto:"+t.user.email,e.LSH),e.xp6(1),e.Q6J("icon",t.SvgIcon.Envelope),e.xp6(2),e.Oqu(t.user.email)}}function pt(n,s){if(1&n&&(e.TgZ(0,"label-value",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.emailPending),e.xp6(1),e.hij(" ",t.data.emailPendingValidation," ")}}function mt(n,s){if(1&n&&(e.TgZ(0,"label-value",22)(1,"a",26),e._UZ(2,"icon",27),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.phone.mobile),e.xp6(1),e.Q6J("href","tel:"+t.mobilePhone.normalizedNumber,e.LSH),e.xp6(1),e.Q6J("icon",t.SvgIcon.Phone),e.xp6(2),e.Oqu(t.mobilePhone.number)}}function ht(n,s){if(1&n&&(e.TgZ(0,"label-value",22)(1,"a",26),e._UZ(2,"icon",27),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=s.$implicit,o=e.oxw(2);e.Q6J("label",t.name),e.xp6(1),e.Q6J("href","tel:"+t.normalizedNumber,e.LSH),e.xp6(1),e.Q6J("icon",o.SvgIcon.Phone),e.xp6(2),e.Oqu(t.number)}}function gt(n,s){if(1&n&&(e.TgZ(0,"label-value",22)(1,"a",26),e._UZ(2,"icon",27),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.phone.landLine),e.xp6(1),e.Q6J("href","tel:"+t.landLinePhone.normalizedNumber,e.LSH),e.xp6(1),e.Q6J("icon",t.SvgIcon.Telephone),e.xp6(2),e.Oqu(t.landLinePhone.number)}}function _t(n,s){if(1&n&&(e.TgZ(0,"label-value",22)(1,"a",26),e._UZ(2,"icon",27),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=s.$implicit,o=e.oxw(2);e.Q6J("label",t.name),e.xp6(1),e.Q6J("href","tel:"+t.normalizedNumber,e.LSH),e.xp6(1),e.Q6J("icon",o.SvgIcon.Telephone),e.xp6(2),e.Oqu(t.number)}}function ft(n,s){1&n&&e._UZ(0,"custom-field-value",28),2&n&&e.Q6J("fieldValue",s.$implicit)}function dt(n,s){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.informationText,"")}}function vt(n,s){1&n&&e._UZ(0,"custom-field-value",28),2&n&&e.Q6J("fieldValue",s.$implicit)}function xt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h3"),e._uU(2),e.qZA(),e.YNc(3,dt,2,1,"div",29),e.YNc(4,vt,1,1,"custom-field-value",10),e.BQk()),2&n){const t=s.$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.informationText),e.xp6(1),e.Q6J("ngForOf",o.fieldsWithSection.get(t))}}function bt(n,s){if(1&n&&(e.TgZ(0,"h3",31),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.i18n.user.activities,"")}}function At(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.connectionStatus)("value",t.i18n.user.connected)}}function wt(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.connectionStatus)("value",t.i18n.user.disconnectedStatus(t.format.formatAsDateTime(t.data.lastLogin)))}}function Pt(n,s){if(1&n&&e._UZ(0,"label-value",24),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.connectionStatus)("value",t.i18n.user.neverLogged)}}function yt(n,s){if(1&n&&e._UZ(0,"rating-stats",34),2&n){const t=e.oxw(3);e.Q6J("score",t.data.references.score)("textRight",t.data.references.count>1?t.i18n.reference.count.multi(t.data.references.count):t.i18n.reference.count.single)}}function Tt(n,s){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.i18n.reference.notGiven,"")}}function Ct(n,s){if(1&n&&(e.TgZ(0,"label-value",22)(1,"a",32),e.YNc(2,yt,1,2,"rating-stats",33),e.YNc(3,Tt,2,1,"ng-container",4),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.profile.references),e.xp6(1),e.Q6J("routerLink",t.referencesPath()),e.xp6(1),e.Q6J("ngIf",t.data.references.count>0),e.xp6(1),e.Q6J("ngIf",0===t.data.references.count)}}function Et(n,s){if(1&n&&e._UZ(0,"rating-stats",34),2&n){const t=e.oxw(3);e.Q6J("score",t.data.paymentFeedbacks.score)("textRight",t.data.paymentFeedbacks.count>1?t.i18n.feedback.count.multi(t.data.paymentFeedbacks.count):t.i18n.feedback.count.single)}}function It(n,s){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.i18n.reference.notGiven,"")}}function Ut(n,s){if(1&n&&(e.TgZ(0,"label-value",22)(1,"a",32),e.YNc(2,Et,1,2,"rating-stats",33),e.YNc(3,It,2,1,"ng-container",4),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.profile.feedbacks),e.xp6(1),e.Q6J("routerLink",t.feedbackPath()),e.xp6(1),e.Q6J("ngIf",t.data.paymentFeedbacks.count>0),e.xp6(1),e.Q6J("ngIf",0===t.data.paymentFeedbacks.count)}}function Ot(n,s){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3).$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",o.i18n.user.profile.balance(o.format.formatAsCurrency(t.currency,t.status.balance))," ")}}function Yt(n,s){1&n&&e._UZ(0,"br")}function Zt(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Yt,1,0,"br",4),e._uU(2),e.BQk()),2&n){const t=e.oxw(3).$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.status.balance),e.xp6(1),e.hij(" ",o.i18n.user.profile.availableBalance(o.format.formatAsCurrency(t.currency,t.status.availableBalance))," ")}}function kt(n,s){if(1&n&&(e.TgZ(0,"label-value",22),e.YNc(1,Ot,2,1,"ng-container",4),e.YNc(2,Zt,3,2,"ng-container",4),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(2);e.Q6J("label",o.i18n.account.balance),e.xp6(1),e.Q6J("ngIf",t.status.balance),e.xp6(1),e.Q6J("ngIf",t.status.availableBalance)}}function St(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"label-value",22),e._uU(2),e._UZ(3,"br"),e._uU(4),e._UZ(5,"br"),e._uU(6),e._UZ(7,"br"),e.qZA(),e.TgZ(8,"label-value",22),e._uU(9),e._UZ(10,"br"),e._uU(11),e._UZ(12,"br"),e._uU(13),e._UZ(14,"br"),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("label",o.i18n.user.profile.activityInPeriod),e.xp6(1),e.hij(" ",o.i18n.user.profile.transactions(t.status.transactionsInPeriod),""),e.xp6(2),e.hij(" ",o.i18n.user.profile.totalReceived(o.format.formatAsCurrency(t.currency,t.status.receivedInPeriod)),""),e.xp6(2),e.hij(" ",o.i18n.user.profile.totalPaid(o.format.formatAsCurrency(t.currency,t.status.paidInPeriod)),""),e.xp6(2),e.Q6J("label",o.i18n.user.profile.activityAllTime),e.xp6(1),e.hij(" ",o.i18n.user.profile.transactions(t.status.transactionsAllTime),""),e.xp6(2),e.hij(" ",o.i18n.user.profile.totalReceived(o.format.formatAsCurrency(t.currency,t.status.receivedAllTime)),""),e.xp6(2),e.hij(" ",o.i18n.user.profile.totalPaid(o.format.formatAsCurrency(t.currency,t.status.paidAllTime)),"")}}function Qt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h3"),e._uU(2),e.qZA(),e.YNc(3,kt,3,3,"label-value",7),e.YNc(4,St,15,8,"ng-container",4),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",o.i18n.account.accountInformation(t.type.name)," "),e.xp6(1),e.Q6J("ngIf",t.status.balance||t.status.availableBalance),e.xp6(1),e.Q6J("ngIf",t.status.transactionsAllTime)}}function Rt(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Qt,5,3,"ng-container",4),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.status)}}function Lt(n,s){if(1&n&&(e.TgZ(0,"a",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("href","mailto:"+t.email,e.LSH),e.xp6(1),e.hij(" ",t.email," ")}}function Jt(n,s){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"format-field-value",28),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("fieldValue",t)}}function Nt(n,s){if(1&n&&(e.TgZ(0,"div",46)(1,"span",47),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(o.i18n.user.contactInfoAtAddress),e.xp6(1),e.hij(" ",t.address.name," ")}}function Bt(n,s){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"avatar-lightbox",40),e.qZA(),e.TgZ(3,"div",41),e._uU(4),e.qZA(),e.YNc(5,Lt,2,2,"a",42),e.TgZ(6,"a",43),e._uU(7),e.qZA(),e.TgZ(8,"a",43),e._uU(9),e.qZA(),e.YNc(10,Jt,2,1,"div",44),e.YNc(11,Nt,4,2,"div",45),e.qZA()),2&n){const t=s.$implicit;e.xp6(2),e.Q6J("image",t.image),e.xp6(2),e.hij("",t.name," "),e.xp6(1),e.Q6J("ngIf",t.email),e.xp6(1),e.Q6J("href","tel:"+t.normalizedMobilePhone,e.LSH),e.xp6(1),e.hij(" ",t.mobilePhone," "),e.xp6(1),e.Q6J("href","tel:"+t.normalizedLandLinePhone,e.LSH),e.xp6(1),e.hij(" ",t.landLinePhone," "),e.xp6(1),e.Q6J("ngForOf",t.customValues),e.xp6(1),e.Q6J("ngIf",t.address)}}function Dt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h2",35),e._uU(2),e.qZA(),e.TgZ(3,"div",36),e.YNc(4,Bt,12,9,"div",37),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.i18n.user.contactInfo),e.xp6(2),e.Q6J("ngForOf",t.user.contactInfos)}}function Vt(n,s){if(1&n&&(e.TgZ(0,"page-content",3),e.ALo(1,"async"),e.YNc(2,Ke,5,2,"ng-container",4),e.ALo(3,"async"),e.YNc(4,Ge,1,2,"profile-images",5),e.ALo(5,"async"),e.TgZ(6,"float-labels"),e.YNc(7,je,1,3,"profile-images",6),e.ALo(8,"async"),e.YNc(9,ze,2,2,"label-value",7),e.YNc(10,qe,1,2,"label-value",8),e.YNc(11,Xe,1,2,"label-value",8),e.YNc(12,et,1,2,"label-value",8),e.YNc(13,tt,1,2,"label-value",8),e.YNc(14,nt,1,2,"label-value",8),e.YNc(15,it,2,2,"label-value",7),e.YNc(16,ot,2,2,"label-value",7),e.YNc(17,rt,2,4,"label-value",8),e.YNc(18,lt,2,2,"label-value",7),e.YNc(19,ct,2,4,"label-value",8),e.YNc(20,ut,5,4,"label-value",7),e.YNc(21,pt,2,2,"label-value",7),e.YNc(22,mt,5,4,"label-value",7),e.YNc(23,ht,5,4,"label-value",9),e.YNc(24,gt,5,4,"label-value",7),e.YNc(25,_t,5,4,"label-value",9),e.YNc(26,ft,1,1,"custom-field-value",10),e.YNc(27,xt,5,3,"ng-container",11),e.YNc(28,bt,2,1,"h3",12),e.YNc(29,At,1,2,"label-value",8),e.YNc(30,wt,1,2,"label-value",8),e.YNc(31,Pt,1,2,"label-value",8),e.YNc(32,Ct,4,4,"label-value",7),e.YNc(33,Ut,4,4,"label-value",7),e.YNc(34,Rt,2,1,"ng-container",11),e.qZA(),e.TgZ(35,"div",13),e._UZ(36,"profile-addresses",14),e.YNc(37,Dt,5,2,"ng-container",4),e.qZA()()),2&n){const t=e.oxw();e.Q6J("heading",t.title)("mobileHeading",t.mobileTitle)("headingActions",e.lcZ(1,34,t.headingActions$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,36,t.showActions$)),e.xp6(2),e.Q6J("ngIf",t.imageEnabled&&t.user.image&&e.lcZ(5,38,t.layout.ltsm$)),e.xp6(3),e.Q6J("ngIf",t.imageEnabled&&e.lcZ(8,40,t.layout.gtxs$)),e.xp6(2),e.Q6J("ngIf",t.showOperatorOwner),e.xp6(1),e.Q6J("ngIf",t.user.groupSet),e.xp6(1),e.Q6J("ngIf",t.user.group),e.xp6(1),e.Q6J("ngIf",t.user.status),e.xp6(1),e.Q6J("ngIf",t.user.name),e.xp6(1),e.Q6J("ngIf",t.user.username),e.xp6(1),e.Q6J("ngIf",t.mainBroker),e.xp6(1),e.Q6J("ngIf",(null==t.otherBrokers?null:t.otherBrokers.length)>0),e.xp6(1),e.Q6J("ngIf",t.user.registrationDate),e.xp6(1),e.Q6J("ngIf",t.user.invitedBy),e.xp6(1),e.Q6J("ngIf",t.showActivationDate),e.xp6(1),e.Q6J("ngIf",t.user.email),e.xp6(1),e.Q6J("ngIf",t.data.emailPendingValidation),e.xp6(1),e.Q6J("ngIf",t.mobilePhone),e.xp6(1),e.Q6J("ngForOf",t.mobilePhones),e.xp6(1),e.Q6J("ngIf",t.landLinePhone),e.xp6(1),e.Q6J("ngForOf",t.landLinePhones),e.xp6(1),e.Q6J("ngForOf",t.fieldsWithoutSection),e.xp6(1),e.Q6J("ngForOf",t.fieldsWithSection.keys()),e.xp6(1),e.Q6J("ngIf",t.data.online||t.data.lastLogin&&!t.data.online||null==t.data.lastLogin&&null!=t.data.online||t.data.references||t.data.paymentFeedbacks||t.hasAccountWithStatus),e.xp6(1),e.Q6J("ngIf",t.data.online),e.xp6(1),e.Q6J("ngIf",t.data.lastLogin&&!t.data.online),e.xp6(1),e.Q6J("ngIf",null==t.data.lastLogin&&null!=t.data.online),e.xp6(1),e.Q6J("ngIf",t.data.references),e.xp6(1),e.Q6J("ngIf",t.data.paymentFeedbacks),e.xp6(1),e.Q6J("ngForOf",t.data.accounts),e.xp6(2),e.Q6J("addresses",t.user.addresses),e.xp6(1),e.Q6J("ngIf",(null==t.user.contactInfos?null:t.user.contactInfos.length)>0)}}function Mt(n,s){if(1&n&&(e.TgZ(0,"div",48),e._UZ(1,"heading-action-button",49),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("action",t)}}const j=25;let Ft=(()=>{class n extends p.k{constructor(t,o,T,y,E,R,L,J,N,B){super(t),this.usersService=o,this.validationService=T,this.contactsService=y,this.runOperationHelper=E,this.wizardHelper=R,this.recordHelper=L,this.tokenHelper=J,this.maps=N,this.userHelper=B,this.showActions$=new _.X(!1),this.bankingActions=[],this.managementActions=[],this.fieldsWithSection=new Map}get user(){return this.data}ngOnInit(){super.ngOnInit(),this.stateManager.manageValue(this.showActions$,"showActions"),this.param=this.route.snapshot.params.user||h.S.SELF,this.errorHandler.requestWithCustomErrorHandler(t=>{this.addSub(this.usersService.viewUser({user:this.param}).subscribe(o=>{this.data=o},o=>{o.status===I.n.NOT_FOUND&&null==this.dataForFrontendHolder.user?this.login.goToLoginPage(this.router.url):[I.n.FORBIDDEN,I.n.UNAUTHORIZED].includes(o.status)?(this.notification.error(this.i18n.user.profile.noPermission),this.breadcrumb.back(),this.data={}):t(o)}))})}onDataInitialized(t){var o,T,y,E,R,L,J,N,B;this.shortName=(0,v.zz)(t.name||t.display,j);const z=t.enabledProfileFields;this.imageEnabled=null==z||z.includes(l.B.IMAGE),this.mobilePhones=t.phones.filter(b=>b.type===m.k.MOBILE),this.landLinePhones=t.phones.filter(b=>b.type===m.k.LAND_LINE),1===this.mobilePhones.length&&(this.mobilePhone=this.mobilePhones[0],this.mobilePhones=[]),1===this.landLinePhones.length&&(this.landLinePhone=this.landLinePhones[0],this.landLinePhones=[]);const q=t.role===d.g.OPERATOR,f=t.permissions||{},F=f.profile||{},Wt=f.passwords||{},$t=f.identityProviders||{},X=(f.accounts||[]).map(b=>b.type),Ht=f.accountVisibilitySettings||{},ee=f.contact||{},D=f.payment||{},Kt=f.scheduledPayments||{},Gt=f.authorizedPayments||{},te=f.paymentRequests||{},jt=f.externalPayments||{},zt=f.tickets||{},V=f.marketplace||{},qt=V.simple||{},M=V.webshop||{},Xt=f.notificationSettings||{},en=f.status||{},tn=f.group||{},nn=f.agreements||{},ne=f.operators||{},ie=f.brokering||{},Z=f.vouchers||{},an=f.documents||{},sn=f.tokens||[],on=f.products||{},rn=f.messages||{},ln=f.quickAccess||{},cn=f.imports||{},ae=[x.y.ADMINISTRATOR,x.y.BROKER,x.y.OWNER].includes(t.relationship),W=t.customValues||[];this.fieldsWithoutSection=W.filter(b=>null==b.field.section)||[];const se=new Map;if(W.map(b=>b.field.section).forEach(b=>{null!=b&&se.set(b.id,b)}),se.forEach(b=>{const k=W.filter(O=>null!=O.field.section&&O.field.section.id===b.id);(0,v.cS)(k)||this.fieldsWithSection.set(b,k)}),t.relationship===x.y.SELF){const b=[],k=(null===(o=this.dataForFrontendHolder.auth)||void 0===o?void 0:o.permissions)||{};if((null===(T=k.privacySettings)||void 0===T?void 0:T.view)&&b.push(new r.Yu(a.l.EyeSlash,this.i18n.user.profile.privacySettings,()=>{this.router.navigate(["/users",this.param,"privacy-settings"])},!0)),(null===(y=k.myProfile)||void 0===y?void 0:y.editProfile)||(null===(E=k.myProfile)||void 0===E?void 0:E.manageContactInfos)){const O=new r.Yu(a.l.Pencil,this.i18n.general.edit,()=>{this.router.navigateByUrl(this.router.url+"/edit")},!0);b.push(O)}this.headingActions=b}else{if(X.length>6)this.bankingActions.push(new r.Yu(a.l.Wallet2,this.i18n.user.profile.accountsSummary,()=>{this.router.navigate(["/banking",this.param,"accounts-summary"])}));else for(const A of X)this.bankingActions.push(new r.Yu(a.l.Wallet2,this.i18n.user.profile.viewAccount(A.name),()=>{this.router.navigate(["/banking",this.param,"account",h.S.internalNameOrId(A)])}));Ht.view&&this.bankingActions.push(new r.Yu(a.l.Eye,this.i18n.user.profile.accountVisibility,()=>{this.router.navigate(["/banking",this.param,"account-visibility"])})),D.userToUser&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowRight,this.i18n.user.profile.pay,()=>{this.router.navigate(["/banking",h.S.SELF,"payment",this.param])})),D.systemToUser&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowRight,this.i18n.user.profile.paySystemToUser,()=>{this.router.navigate(["/banking",h.S.SYSTEM,"payment",this.param])})),D.asUserToUser&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowRight,this.i18n.user.profile.payAsUserToUser,()=>{this.router.navigate(["/banking",this.param,"payment"])})),D.asUserToSelf&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowLeftRight,this.i18n.user.profile.payAsUserToSelf,()=>{this.router.navigate(["/banking",this.param,"payment",h.S.SELF])})),D.asUserToSystem&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowRight,this.i18n.user.profile.payAsUserToSystem,()=>{this.router.navigate(["/banking",this.param,"payment",h.S.SYSTEM])})),(null===(R=cn.kinds)||void 0===R?void 0:R.includes(u.USER_PAYMENTS))&&this.bankingActions.push(new r.Yu(a.l.ArrowUpCircle,this.i18n.user.profile.batchPayments,()=>{this.router.navigate(["/imports",this.param,u.USER_PAYMENTS,"files"])})),Kt.view&&this.bankingActions.push(new r.Yu(a.l.Clock,this.i18n.user.profile.viewScheduledPayments,()=>{this.router.navigate(["/banking",this.param,"installments"])})),te.view&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowLeft,this.i18n.user.profile.paymentRequests,()=>{this.router.navigate(["/banking",this.param,"payment-requests"])})),te.sendFromUser&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowLeft,this.i18n.user.profile.requestPayment,()=>{this.router.navigate(["/banking",h.S.SELF,"payment-request",this.param])})),jt.view&&this.bankingActions.push(new r.Yu(a.l.Wallet2ArrowUpRight,this.i18n.user.profile.externalPayments,()=>{this.router.navigate(["/banking",this.param,"external-payments"])})),zt.view&&this.bankingActions.push(new r.Yu(a.l.Wallet2Check,this.i18n.user.profile.tickets,()=>{this.router.navigate(["/banking",this.param,"tickets"])})),(f.balanceLimits||{}).view&&this.bankingActions.push(new r.Yu(a.l.ArrowDownUp,this.i18n.user.profile.accountsBalanceLimits,()=>{this.router.navigate(["/banking",this.param,"account-balance-limits"])})),(f.paymentLimits||{}).view&&this.bankingActions.push(new r.Yu(a.l.ArrowDownUp,this.i18n.user.profile.accountsPaymentLimits,()=>{this.router.navigate(["/banking",this.param,"account-payment-limits"])})),Gt.view&&this.bankingActions.push(new r.Yu(a.l.CheckCircle,this.i18n.user.profile.viewAuthorizedPayments,()=>{this.router.navigate(["/banking",this.param,"authorized-payments"])})),Z.view&&(this.bankingActions.push(new r.Yu(a.l.Ticket,this.i18n.user.profile.vouchers,()=>{this.router.navigate(["/banking",this.param,"vouchers"])})),Z.buy&&this.bankingActions.push(new r.Yu(a.l.TicketArrowLeft,this.i18n.user.profile.voucherBuy,()=>{this.router.navigate(["/banking",this.param,"vouchers","buy"])})),Z.send&&this.bankingActions.push(new r.Yu(a.l.TicketArrowRight,this.i18n.user.profile.voucherSend,()=>{this.router.navigate(["/banking",this.param,"vouchers","send"])}))),Z.viewTransactions&&(this.bankingActions.push(new r.Yu(a.l.TicketDetailed,Z.topUpEnabled?this.i18n.user.profile.voucherTransactions:this.i18n.user.profile.voucherTransactionsRedeems,()=>{this.router.navigate(["/banking",this.param,"voucher-transactions"])})),Z.redeem&&this.bankingActions.push(new r.Yu(a.l.TicketArrowDown,this.i18n.user.profile.voucherRedeem,()=>{this.router.navigate(["/banking",this.param,"vouchers","redeem"])})),Z.topUp&&this.bankingActions.push(new r.Yu(a.l.TicketArrowUp,this.i18n.user.profile.voucherTopUp,()=>{this.router.navigate(["/banking",this.param,"vouchers","top-up"])}))),(F.editProfile||F.manageContactInfos)&&this.managementActions.push(new r.Yu(a.l.Pencil,this.i18n.user.profile.edit,()=>{this.router.navigateByUrl(this.router.url+"/edit")})),Wt.manage&&this.managementActions.push(new r.Yu(a.l.Key,this.i18n.user.profile.managePasswords,()=>{this.router.navigate(["/users",this.param,"passwords"])})),$t.view&&this.managementActions.push(new r.Yu(a.l.PersonBadge,this.i18n.user.profile.viewIdentityProviders,()=>{this.router.navigate(["/users",this.param,"identity-providers"])}));const O=f.validation||{};O.resendEmailChange&&this.managementActions.push(new r.Yu(a.l.EnvelopeCheck,this.i18n.user.profile.resendEmailChange,()=>{this.addSub(this.validationService.resendEmailChangeEmail({user:this.param}).subscribe(()=>this.notification.snackBar(this.i18n.user.profile.resendEmailChangeDone)))})),O.validateEmailChange&&this.managementActions.push(new r.Yu(a.l.Check2,this.i18n.user.profile.validateEmailChange,()=>{this.addSub(this.validationService.manuallyValidateEmailChange({user:this.param}).subscribe(()=>{this.reload(),this.notification.snackBar(this.i18n.user.profile.validateEmailChangeDone)}))})),O.resendRegistrationValidation&&this.managementActions.push(new r.Yu(a.l.EnvelopeCheck,this.i18n.user.profile.resendRegistrationValidation,()=>{this.addSub(this.validationService.resendUserRegistrationEmail({user:this.param}).subscribe(()=>this.notification.snackBar(this.i18n.user.profile.resendRegistrationValidationDone)))})),O.validateRegistration&&this.managementActions.push(new r.Yu(a.l.Check2,this.i18n.user.profile.validateRegistration,()=>{this.addSub(this.validationService.manuallyValidateUserRegistration({user:this.param}).subscribe(()=>{this.reload(),this.notification.snackBar(this.i18n.user.profile.validateRegistrationDone)}))})),F.physicallyRemove&&this.managementActions.push(new r.Yu(a.l.Trash,this.i18n.user.profile.remove,()=>{this.confirmation.confirm({message:this.i18n.general.removeConfirm(t.display),callback:()=>this.addSub(this.usersService.deletePendingUser({user:this.param}).subscribe(()=>{this.breadcrumb.empty||1===this.breadcrumb.breadcrumb$.value.length?this.router.navigate(["/users","search"]):this.breadcrumb.back(),this.notification.snackBar(this.i18n.general.removeDone(t.display))}))})})),en.view&&this.managementActions.push(new r.Yu(a.l.PersonCheck,q?this.i18n.user.profile.statusOperator:this.i18n.user.profile.statusUser,()=>{this.router.navigate(["/users",this.param,"status"])})),tn.view&&this.managementActions.push(new r.Yu(a.l.People,q?this.i18n.user.profile.groupOperator:this.i18n.user.profile.groupUser,()=>{this.router.navigate(["/users",this.param,"group"])})),nn.view&&this.managementActions.push(new r.Yu(a.l.UiChecks,this.i18n.user.profile.agreements,()=>{this.router.navigate(["/users",this.param,"agreements"])})),ie.viewMembers&&this.managementActions.push(new r.Yu(a.l.PersonSquareOutline,this.i18n.user.profile.viewBrokerings,()=>{this.router.navigate(["/users",this.param,"brokerings"])})),ie.viewBrokers&&this.managementActions.push(new r.Yu(a.l.PersonSquareOutline,this.i18n.user.profile.viewBrokers,()=>{this.router.navigate(["/users",this.param,"brokers"])})),ne.viewOperators&&this.managementActions.push(new r.Yu(a.l.PersonCircleOutline,this.i18n.user.profile.viewOperators,()=>{this.router.navigate(["/users",this.param,"operators"])})),ne.viewGroups&&this.managementActions.push(new r.Yu(a.l.People,this.i18n.user.profile.viewOperatorGroups,()=>{this.router.navigate(["/users",this.param,"operator-groups"])})),on.view&&this.managementActions.push(new r.Yu(a.l.Shield,this.i18n.user.profile.products,()=>{this.router.navigate(["/users",this.param,"product-assignment"])})),ee.add&&this.managementActions.push(new r.Yu(a.l.PersonPlus,this.i18n.user.profile.addContact,()=>{this.addContact()})),ee.remove&&this.managementActions.push(new r.Yu(a.l.PersonDash,this.i18n.user.profile.removeContact,()=>{this.removeContact()})),rn.send&&this.managementActions.push(new r.Yu(a.l.Envelope,this.i18n.user.profile.sendMessage,()=>{this.router.navigate(["/users","messages","send"],{queryParams:{to:this.param}})})),qt.view&&this.managementActions.push(new r.Yu(a.l.Basket,this.i18n.user.profile.viewAds,()=>{this.router.navigate(["/marketplace",this.param,w.$.SIMPLE,"list"])})),M.view&&this.managementActions.push(new r.Yu(a.l.Basket,this.i18n.user.profile.viewWebshop,()=>{this.router.navigate(["/marketplace",this.param,w.$.WEBSHOP,"list"])})),M.viewPurchases&&this.managementActions.push(new r.Yu(a.l.Bag2,this.i18n.user.profile.purchases,()=>{this.router.navigate(["/marketplace",this.param,"purchases"])})),M.viewSales&&this.managementActions.push(new r.Yu(a.l.Receipt,this.i18n.user.profile.sales,()=>{this.router.navigate(["/marketplace",this.param,"sales"])})),V.viewInterests&&this.managementActions.push(new r.Yu(a.l.Star,this.i18n.user.profile.adInterests,()=>{this.router.navigate(["/marketplace",this.param,"ad-interests"])})),V.viewFavorites&&this.managementActions.push(new r.Yu(a.l.Heart,this.i18n.user.profile.favoriteAds,()=>{this.router.navigate(["/marketplace",this.param,"list-favorites"])})),M.viewSettings&&(this.managementActions.push(new r.Yu(a.l.Truck,this.i18n.user.profile.deliveryMethods,()=>{this.router.navigate(["/marketplace",this.param,"delivery-methods"])})),this.managementActions.push(new r.Yu(a.l.Gear,this.i18n.user.profile.webshopSettings,()=>{this.router.navigate(["/marketplace",this.param,"webshop-settings","view"])})));for(const A of sn)this.managementActions.push(new r.Yu(this.tokenHelper.icon(A.type),A.type.pluralName,()=>{this.router.navigate(["/users",this.param,"tokens",A.type.id])}));Xt.view&&this.managementActions.push(new r.Yu(a.l.BellSlash,this.i18n.user.profile.notificationSettings,()=>{this.router.navigate(["/users",this.param,"notification-settings"])})),(null===(L=f.privacySettings)||void 0===L?void 0:L.view)&&this.managementActions.push(new r.Yu(a.l.EyeSlash,this.i18n.user.profile.privacySettings,()=>{this.router.navigate(["/users",this.param,"privacy-settings"])})),(null===(J=f.references)||void 0===J?void 0:J.view)&&this.managementActions.push(new r.Yu(a.l.Star,this.i18n.user.profile.references,()=>{this.router.navigate(["/users",this.param,"references","search"])})),ln.view&&this.managementActions.push(new r.Yu(a.l.Grid2,this.i18n.user.profile.quickAccess,()=>{this.router.navigate(["/users",this.param,"quick-access","settings"])})),(null===(N=f.paymentFeedbacks)||void 0===N?void 0:N.view)&&this.managementActions.push(new r.Yu(a.l.Award,this.i18n.user.profile.feedbacks,()=>{this.router.navigate(["/users",this.param,"feedbacks","search"])})),an.view&&this.managementActions.push(new r.Yu(a.l.FileEarmarkText,this.i18n.document.action(null===(B=t.documents)||void 0===B?void 0:B.count),()=>{this.router.navigate(["/users",this.param,"documents","search"])}));for(const A of f.records||[]){const S=A.type,un=S.userProfileSection===g.BANKING?this.bankingActions:this.managementActions,pn=this.recordHelper.icon(S),$=t.records[S.id]||t.records[S.internalName];un.push(new r.Yu(pn,this.i18n.record.action({type:S.pluralName,count:null==$?void 0:$.count}),()=>{this.router.navigateByUrl(this.recordHelper.resolvePath(A,this.param))}))}for(const A of f.operations||[])(A.userProfileSection===g.BANKING?this.bankingActions:this.managementActions).push(this.runOperationHelper.headingAction(A,t.id));for(const A of f.wizards||[])(A.userProfileSection===g.BANKING?this.bankingActions:this.managementActions).push(this.wizardHelper.headingAction(A,t.id));this.bankingActions.length+this.managementActions.length>0&&(ae?this.bankingActions.length<10&&this.managementActions.length<10?this.showActions$.next(!0):this.updateHeadingActions():this.headingActions=[...this.bankingActions,...this.managementActions])}}referencesPath(){return["/users",this.param,"references","search"]}feedbackPath(){return["/users",this.param,"feedbacks","search"]}updateHeadingActions(){const t=!this.showActions$.value,y=new r.Yu(t?a.l.FilePlay:a.l.FileX,t?this.i18n.user.profile.showActions:this.i18n.user.profile.hideActions,()=>{this.showActions$.next(t),this.updateHeadingActions()},!0);this.headingActions=[y]}addContact(){this.addSub(this.contactsService.createContact({user:h.S.SELF,body:{contact:this.user.id}}).subscribe(()=>{this.notification.snackBar(this.i18n.user.profile.addContactDone(this.shortName)),this.reload()}))}removeContact(){this.addSub(this.contactsService.deleteContact({id:this.user.contact.id}).subscribe(()=>{this.notification.snackBar(this.i18n.user.profile.removeContactDone(this.shortName)),this.reload()}))}get myProfile(){return!!this.user&&(this.login.user||{}).id===this.user.id}get title(){return this.myProfile?this.i18n.user.title.myProfile:this.shortName}get mobileTitle(){return this.myProfile?this.i18n.user.mobileTitle.myProfile:this.i18n.user.mobileTitle.userProfile}get showActivationDate(){return this.user.activationDate&&this.format.formatAsDate(this.user.activationDate)!==this.format.formatAsDate(this.user.registrationDate)}get showOperatorOwner(){return this.user.role===d.g.OPERATOR&&![x.y.OWNER,x.y.SAME_OWNER].includes(this.user.relationship)}get mainBroker(){var t;return null===(t=this.data.brokers)||void 0===t?void 0:t.find(o=>o.mainBroker).broker}get otherBrokers(){var t;return null===(t=this.data.brokers)||void 0===t?void 0:t.filter(o=>!o.mainBroker).map(o=>o.broker)}resolveMenu(t){switch(t.relationship){case x.y.SELF:return c.v2.MY_PROFILE;case x.y.OWNER:case x.y.SAME_OWNER:return c.v2.MY_OPERATORS;case x.y.BROKER:return c.v2.MY_BROKERED_USERS;default:return this.login.user?c.v2.SEARCH_USERS:c.v2.PUBLIC_DIRECTORY}}get hasAccountWithStatus(){var t;return(null===(t=this.data.accounts)||void 0===t?void 0:t.filter(o=>null!=o.status).length)>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(C.f),e.Y36(Q.R),e.Y36(oe.P),e.Y36(re.Y),e.Y36(le.F),e.Y36(ce.w),e.Y36(ue.X),e.Y36(H.Q),e.Y36(pe.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-profile"]],features:[e.qOj],decls:5,vars:4,consts:[[3,"ready"],["last","","mode","viewForm",3,"heading","mobileHeading","headingActions",4,"ngIf"],["actionTpl",""],["last","","mode","viewForm",3,"heading","mobileHeading","headingActions"],[4,"ngIf"],[3,"image","additionalImages",4,"ngIf"],["class","float-right",3,"image","additionalImages","icon",4,"ngIf"],[3,"label",4,"ngIf"],[3,"label","value",4,"ngIf"],[3,"label",4,"ngFor","ngForOf"],[3,"fieldValue",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","mb-1",4,"ngIf"],[1,"d-flex","flex-grow-1","flex-column"],[3,"addresses"],[1,"row","no-gutters"],["class","col-12 col-sm-6",4,"ngIf"],[1,"col-12","col-sm-6"],[1,"border-0","mb-2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"image","additionalImages"],[1,"float-right",3,"image","additionalImages","icon"],[3,"label"],[3,"user"],[3,"label","value"],[3,"user","ngClass"],[1,"link-with-icon",3,"href"],[3,"icon"],[3,"fieldValue"],["class","mb-2",4,"ngIf"],[1,"mb-2"],[1,"mb-1"],[3,"routerLink"],[3,"score","textRight",4,"ngIf"],[3,"score","textRight"],[1,"mt-3"],[1,"additional-contacts","row","no-gutters"],["class","text-center col-12 col-sm-6 col-md-4 col-lg-3 pb-3",4,"ngFor","ngForOf"],[1,"text-center","col-12","col-sm-6","col-md-4","col-lg-3","pb-3"],[1,"data-item"],["size","140",3,"image"],[1,"data-item","font-weight-bold"],["class","data-item",3,"href",4,"ngIf"],[1,"data-item",3,"href"],["class","data-item",4,"ngFor","ngForOf"],["class","data-item text-accent",4,"ngIf"],[1,"data-item","text-accent"],[1,"inline-label"],[1,"profile-action"],[1,"heading-action-button",3,"action"]],template:function(t,o){1&t&&(e.TgZ(0,"page-layout",0),e.ALo(1,"async"),e.YNc(2,Vt,38,42,"page-content",1),e.qZA(),e.YNc(3,Mt,2,1,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("ready",e.lcZ(1,2,o.data$)),e.xp6(2),e.Q6J("ngIf",o.data))},directives:[me.w,U.O5,he.Y,U.sg,U.tP,ge.$,_e.c,fe.t,de.F,U.mk,ve.o,xe.W,be.yS,Ae.m,Le,Je.X,Ne.x,Be.N],pipes:[U.Ov,De.u],encapsulation:2,changeDetection:0}),n})()},538:(Y,P,i)=>{i.d(P,{o:()=>m});var u=i(7901),g=i(4391),l=i(6435);let m=(()=>{class d{constructor(w){this.i18n=w}resolveLevelLabel(w){switch(w){case u.U.BAD:return this.i18n.reference.level.bad;case u.U.VERY_BAD:return this.i18n.reference.level.veryBad;case u.U.GOOD:return this.i18n.reference.level.good;case u.U.VERY_GOOD:return this.i18n.reference.level.veryGood;case u.U.NEUTRAL:return this.i18n.reference.level.neutral}}}return d.\u0275fac=function(w){return new(w||d)(l.LFG(g.s))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);