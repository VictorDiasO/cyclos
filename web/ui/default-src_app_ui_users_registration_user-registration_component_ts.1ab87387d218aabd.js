"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([["default-src_app_ui_users_registration_user-registration_component_ts"],{9048:(A,R,r)=>{r.d(R,{w:()=>S});var u=r(3126),p=r(7947),b=r(591),a=r(6435),w=r(9808);function f(d,y){if(1&d&&(a.TgZ(0,"li",1),a.ALo(1,"async"),a._uU(2),a.ALo(3,"async"),a.qZA()),2&d){const l=a.oxw();a.Q6J("ngClass",a.lcZ(1,2,l.fixedLength$)?"valid":"invalid"),a.xp6(2),a.hij(" ",a.lcZ(3,4,l.fixedLength$)?l.i18n.password.hints.ok(l.i18n.password.hints.fixedLength(l.fixedLength)):l.i18n.password.hints.fail(l.i18n.password.hints.fixedLength(l.fixedLength))," ")}}function m(d,y){if(1&d&&(a.TgZ(0,"li",1),a.ALo(1,"async"),a._uU(2),a.ALo(3,"async"),a.qZA()),2&d){const l=a.oxw();a.Q6J("ngClass",a.lcZ(1,2,l.minLength$)?"valid":"invalid"),a.xp6(2),a.hij(" ",a.lcZ(3,4,l.minLength$)?l.i18n.password.hints.ok(l.i18n.password.hints.minLength(l.minLength)):l.i18n.password.hints.fail(l.i18n.password.hints.minLength(l.minLength))," ")}}function F(d,y){if(1&d&&(a.TgZ(0,"li",1),a.ALo(1,"async"),a._uU(2),a.ALo(3,"async"),a.qZA()),2&d){const l=a.oxw();a.Q6J("ngClass",a.lcZ(1,2,l.lowerCaseLetters$)?"valid":"invalid"),a.xp6(2),a.hij(" ",a.lcZ(3,4,l.lowerCaseLetters$)?l.i18n.password.hints.ok(l.i18n.password.hints.lowerCaseLetters):l.i18n.password.hints.fail(l.i18n.password.hints.lowerCaseLetters)," ")}}function v(d,y){if(1&d&&(a.TgZ(0,"li",1),a.ALo(1,"async"),a._uU(2),a.ALo(3,"async"),a.qZA()),2&d){const l=a.oxw();a.Q6J("ngClass",a.lcZ(1,2,l.upperCaseLetters$)?"valid":"invalid"),a.xp6(2),a.hij(" ",a.lcZ(3,4,l.upperCaseLetters$)?l.i18n.password.hints.ok(l.i18n.password.hints.upperCaseLetters):l.i18n.password.hints.fail(l.i18n.password.hints.upperCaseLetters)," ")}}function e(d,y){if(1&d&&(a.TgZ(0,"li",1),a.ALo(1,"async"),a._uU(2),a.ALo(3,"async"),a.qZA()),2&d){const l=a.oxw();a.Q6J("ngClass",a.lcZ(1,2,l.numbers$)?"valid":"invalid"),a.xp6(2),a.hij(" ",a.lcZ(3,4,l.numbers$)?l.i18n.password.hints.ok(l.i18n.password.hints.numbers):l.i18n.password.hints.fail(l.i18n.password.hints.numbers)," ")}}function _(d,y){if(1&d&&(a.TgZ(0,"li",1),a.ALo(1,"async"),a._uU(2),a.ALo(3,"async"),a.qZA()),2&d){const l=a.oxw();a.Q6J("ngClass",a.lcZ(1,2,l.specialCharacters$)?"valid":"invalid"),a.xp6(2),a.hij(" ",a.lcZ(3,4,l.specialCharacters$)?l.i18n.password.hints.ok(l.i18n.password.hints.specialCharacters):l.i18n.password.hints.fail(l.i18n.password.hints.specialCharacters)," ")}}const g=/[A-Z]/,T=/[a-z]/,Z=/[0-9]/,I=/[\`\@\!\"\#\$\%\&\'\(\)\*\+\,\-\.\/\:\;\<\=\>\?\[\\\]\^\_\{\}\~]/;let S=(()=>{class d extends p.H{constructor(l){super(l),this.fixedLength$=new b.X(!1),this.minLength$=new b.X(!1),this.lowerCaseLetters$=new b.X(!1),this.upperCaseLetters$=new b.X(!1),this.numbers$=new b.X(!1),this.specialCharacters$=new b.X(!1)}ngOnInit(){const l=this.passwordType;this.fixedLength=null!=l.minLength&&l.minLength==l.maxLength?l.minLength:null,this.minLength=null!=l.minLength&&l.minLength!=l.maxLength?l.minLength:null,this.lowerCaseLetters=l.lowerCaseLetters==u.e.REQUIRED,this.upperCaseLetters=l.upperCaseLetters==u.e.REQUIRED,this.numbers=l.numbers==u.e.REQUIRED,this.specialCharacters=l.specialCharacters==u.e.REQUIRED,this.addSub(this.control.valueChanges.subscribe(x=>{this.fixedLength$.next((x=null!=x?x:"").length==this.fixedLength),this.minLength$.next(x.length>=this.minLength),this.lowerCaseLetters$.next(T.test(x)),this.upperCaseLetters$.next(g.test(x)),this.numbers$.next(Z.test(x)),this.specialCharacters$.next(I.test(x))}))}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.zs3))},d.\u0275cmp=a.Xpm({type:d,selectors:[["password-hints"]],inputs:{passwordType:"passwordType",control:"control"},features:[a.qOj],decls:9,vars:7,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(l,x){1&l&&(a.TgZ(0,"div"),a._uU(1),a.qZA(),a.TgZ(2,"ul"),a.YNc(3,f,4,6,"li",0),a.YNc(4,m,4,6,"li",0),a.YNc(5,F,4,6,"li",0),a.YNc(6,v,4,6,"li",0),a.YNc(7,e,4,6,"li",0),a.YNc(8,_,4,6,"li",0),a.qZA()),2&l&&(a.xp6(1),a.Oqu(x.i18n.password.hints.preface),a.xp6(2),a.Q6J("ngIf",x.fixedLength),a.xp6(1),a.Q6J("ngIf",x.minLength),a.xp6(1),a.Q6J("ngIf",x.lowerCaseLetters),a.xp6(1),a.Q6J("ngIf",x.upperCaseLetters),a.xp6(1),a.Q6J("ngIf",x.numbers),a.xp6(1),a.Q6J("ngIf",x.specialCharacters))},directives:[w.O5,w.mk],pipes:[w.Ov],encapsulation:2,changeDetection:0}),d})()},2290:(A,R,r)=>{r.d(R,{F:()=>F});var u=r(7947),p=r(6435),b=r(2274),a=r(6849),w=r(9808),f=r(3317);function m(v,e){if(1&v&&(p.ynx(0),p._UZ(1,"p",0),p.ALo(2,"trust"),p.TgZ(3,"p"),p._uU(4),p.qZA(),p.BQk()),2&v){const _=p.oxw();p.xp6(1),p.Q6J("innerHTML",p.lcZ(2,2,_.principalsHtml),p.oJD),p.xp6(3),p.Oqu(_.passwordsMessage)}}let F=(()=>{class v extends u.H{constructor(_,g,T){super(_),this.login=g,this.userHelper=T}ngOnInit(){super.ngOnInit(),this.messageHtml=this.userHelper.registrationMessageHtml(this.result,!!this.dataForFrontendHolder.user),this.principalsHtml=this.userHelper.registrationPrincipalsHtml(this.result),this.passwordsMessage=this.userHelper.registrationPasswordsMessage(this.result)}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.zs3),p.Y36(b.r),p.Y36(a.T))},v.\u0275cmp=p.Xpm({type:v,selectors:[["registration-step-done"]],inputs:{result:"result"},features:[p.qOj],decls:3,vars:4,consts:[[3,"innerHTML"],[4,"ngIf"]],template:function(_,g){1&_&&(p._UZ(0,"p",0),p.ALo(1,"trust"),p.YNc(2,m,5,4,"ng-container",1)),2&_&&(p.Q6J("innerHTML",p.lcZ(1,2,g.messageHtml),p.oJD),p.xp6(2),p.Q6J("ngIf",null==g.login.user&&"active"==g.result.status))},directives:[w.O5],pipes:[f.a],encapsulation:2,changeDetection:0}),v})()},4514:(A,R,r)=>{r.d(R,{B:()=>tn,H:()=>J});var u=r(3075),p=(()=>{return(n=p||(p={})).ADMIN_GROUP="adminGroup",n.BROKER_GROUP="brokerGroup",n.GROUP_SET="groupSet",n.MEMBER_GROUP="memberGroup",p;var n})(),b=r(2462),a=r(7707),w=r(3126),f=r(7e3),m=r(6163),F=r(2614),v=r(6243),e=r(6435),_=r(7947),g=r(5905),T=r(6903),Z=r(1556);let S=(()=>{class n extends _.H{constructor(t,i){super(t),this.modalRef=i,this.select=new e.vpe}emit(t){this.select.emit(t),this.close()}close(){this.modalRef.hide()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(g.UZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["confirm-resume-wizard"]],outputs:{select:"select"},features:[e.qOj],decls:5,vars:3,consts:[[1,"p-3"],[3,"label","action"],["outline","",3,"label","action"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.TgZ(2,"actions")(3,"action-button",1),e.NdJ("action",function(){return i.emit(!0)}),e.qZA(),e.TgZ(4,"action-button",2),e.NdJ("action",function(){return i.emit(!1)}),e.qZA()()()),2&t&&(e.xp6(1),e.hij(" ",i.i18n.user.registration.resumeWizard.message," "),e.xp6(2),e.Q6J("label",i.i18n.user.registration.resumeWizard.resume),e.xp6(1),e.Q6J("label",i.i18n.user.registration.resumeWizard.restart))},directives:[T.h,Z.x],encapsulation:2,changeDetection:0}),n})();var d=r(5244),y=r(591),l=r(7224),x=r(7595),L=r(6849),M=r(8089),N=r(1787),$=r(543),D=r(1963),C=r(9808),B=r(2032),E=r(2274),G=r(5739),O=r(8868);function W(n,s){if(1&n&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name,"")}}const z=function(n){return{"ml-3":n}};function j(n,s){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"input",8),e.TgZ(2,"label",9)(3,"div",10),e._uU(4),e.qZA()()()),2&n){const t=s.$implicit,i=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",e.VKq(6,z,i)),e.xp6(1),e.Q6J("formControl",o.control)("id","group_"+t.id)("value",t.id),e.xp6(1),e.Q6J("for","group_"+t.id),e.xp6(2),e.hij(" ",t.name," ")}}function V(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div"),e.YNc(2,W,2,1,"div",4),e.YNc(3,j,5,8,"div",5),e.qZA(),e.BQk()),2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngForOf",i.groupsForSet(t))}}function k(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2),e._uU(2),e.qZA(),e.YNc(3,V,4,2,"ng-container",3),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.i18n.user.registration.groupManager),e.xp6(1),e.Q6J("ngForOf",t.groupSets)}}function X(n,s){if(1&n&&e._UZ(0,"field-option",15),2&n){const t=s.$implicit;e.Q6J("value",t.id)("text",t.name)}}function K(n,s){if(1&n&&(e.TgZ(0,"radio-group-field",13),e.YNc(1,X,1,2,"field-option",14),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formControl",t.control),e.xp6(1),e.Q6J("ngForOf",t.groups)}}function ee(n,s){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function te(n,s){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19),e._UZ(3,"input",8),e.TgZ(4,"label",9)(5,"div",10),e._uU(6),e.YNc(7,ee,2,1,"div",20),e.qZA()()()()()),2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(3),e.Q6J("formControl",i.control)("id","group_"+t.id)("value",t.id),e.xp6(1),e.Q6J("for","group_"+t.id),e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description)}}function ne(n,s){if(1&n&&e.YNc(0,te,8,6,"div",16),2&n){const t=e.oxw(2);e.Q6J("ngForOf",t.groups)}}function ie(n,s){if(1&n&&(e.TgZ(0,"div",2),e._uU(1),e.qZA(),e.YNc(2,K,2,2,"radio-group-field",11),e.YNc(3,ne,1,1,"ng-template",null,12,e.W1O)),2&n){const t=e.MAs(4),i=e.oxw();e.xp6(1),e.Oqu(i.i18n.user.registration.groupPublic),e.xp6(1),e.Q6J("ngIf",i.singleLine)("ngIfElse",t)}}let oe=(()=>{class n extends _.H{constructor(t,i){super(t),this.login=i}ngOnInit(){super.ngOnInit(),this.singleLine=this.groups.length<=3&&0===this.groups.filter(t=>t.description).length}groupsForSet(t){return this.groups.filter(null==t?o=>null==o.groupSet:o=>o.groupSet&&[t.id,t.internalName].includes(o.groupSet))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(E.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["registration-step-group"]],inputs:{groupSets:"groupSets",groups:"groups",control:"control"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["asGuest",""],[1,"mb-3"],[4,"ngFor","ngForOf"],["class","mt-3 mb-2","font-weight-bold","",4,"ngIf"],["class","custom-control custom-radio mb-1",3,"ngClass",4,"ngFor","ngForOf"],["font-weight-bold","",1,"mt-3","mb-2"],[1,"custom-control","custom-radio","mb-1",3,"ngClass"],["type","radio",1,"custom-control-input",3,"formControl","id","value"],[1,"custom-control-label",3,"for"],[1,"ml-1"],[3,"formControl",4,"ngIf","ngIfElse"],["multiLine",""],[3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"value","text"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","mb-2"],[1,"col-12","col-6","col-sm-8"],[1,"custom-control","custom-radio"],["class","text-muted mt-1 mb-3",4,"ngIf"],[1,"text-muted","mt-1","mb-3"]],template:function(t,i){if(1&t&&(e.YNc(0,k,4,2,"ng-container",0),e.YNc(1,ie,5,3,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",i.login.user)("ngIfElse",o)}},directives:[C.O5,C.sg,C.mk,u._,u.Fj,u.JJ,u.oH,G.Y,O.s],encapsulation:2,changeDetection:0}),n})();var se=r(5531),ae=r(3317);function re(n,s){if(1&n&&e._UZ(0,"img",6),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.image.url,e.LSH)("alt",t.name)}}const le=function(n,s,t){return{border:n,background:s,color:t}};function ce(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().registerWith(c)}),e.YNc(1,re,1,2,"img",4),e._UZ(2,"span",5),e.ALo(3,"trust"),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.kEZ(5,le,"1px solid "+t.borderColor,t.backgroundColor,t.textColor)),e.xp6(1),e.Q6J("ngIf",t.image),e.xp6(1),e.Q6J("innerHTML",e.lcZ(3,3,i.i18n.identityProvider.login(t.name)),e.oJD)}}let me=(()=>{class n extends _.H{constructor(t,i){super(t),this.uiLayout=i,this.continue=new e.vpe}registerWith(t){this.continue.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(se.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["registration-step-idp"]],inputs:{identityProviders:"identityProviders"},outputs:{continue:"continue"},features:[e.qOj],decls:5,vars:5,consts:[[1,"text-center"],["type","button","class","identity-provider btn-action-primary centered-button",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"text-muted","text-justify","my-3",3,"innerHTML"],["type","button",1,"identity-provider","btn-action-primary","centered-button",3,"ngStyle","click"],["class","aria-hidden",3,"src","alt",4,"ngIf"],[3,"innerHTML"],[1,"aria-hidden",3,"src","alt"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.YNc(2,ce,4,9,"button",1),e._UZ(3,"div",2),e.ALo(4,"trust")),2&t&&(e.xp6(1),e.Oqu(i.i18n.identityProvider.registration),e.xp6(1),e.Q6J("ngForOf",i.identityProviders),e.xp6(1),e.Q6J("innerHTML",e.lcZ(4,3,i.i18n.identityProvider.registrationDisclaimer(i.dataForFrontendHolder.dataForFrontend.title)),e.oJD))},directives:[C.sg,C.PC,C.O5],pipes:[ae.a],encapsulation:2,changeDetection:0}),n})();var pe=r(2916),ue=r(1086),de=r(8064),ge=r(9175),P=r(7229),_e=r(3455),fe=r(48),Y=r(195),he=r(7107),H=r(3728),xe=r(2208),ve=r(4976),q=r(1321),Ce=r(1602),be=r(9597),Te=r(507);function ye(n,s){if(1&n&&e._UZ(0,"avatar-lightbox",21),2&n){const t=e.oxw(2);e.Q6J("image",t.image)}}function Ze(n,s){if(1&n&&e._UZ(0,"field-errors",26),2&n){const t=e.oxw(4);e.Q6J("control",t.imageControl)}}const we=function(n){return{"is-invalid":n}};function Fe(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",23),e._uU(2),e.TgZ(3,"span",24),e._uU(4,"\xa0*"),e.qZA(),e.YNc(5,Ze,1,1,"field-errors",25),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(3,we,t.imageControl.hasError)),e.xp6(1),e.hij(" ",t.i18n.user.noImageRequired," "),e.xp6(3),e.Q6J("ngIf",t.imageControl)}}function Re(n,s){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,Fe,6,5,"ng-container",5),e.qZA()),2&n){e.oxw();const t=e.MAs(11),i=e.oxw();e.xp6(1),e.Q6J("ngIf","required"===i.data.imageConfiguration.availability)("ngIfElse",t)}}function Se(n,s){if(1&n&&e._uU(0),2&n){const t=e.oxw(2);e.hij(" ",t.i18n.user.noImage," ")}}function Ie(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"action-button",30),e.NdJ("action",function(){return e.CHM(t),e.oxw(3).removeImage()}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",e.lcZ(1,2,t.requesting$))("label",t.i18n.field.image.remove)}}function Qe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"action-button",28),e.NdJ("action",function(){return e.CHM(t),e.oxw(),e.MAs(13).perform()}),e.ALo(2,"async"),e.qZA(),e.YNc(3,Ie,2,4,"action-button",29),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",e.lcZ(2,3,t.requesting$))("label",t.i18n.field.image.upload),e.xp6(2),e.Q6J("ngIf",t.image)}}function Ae(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"h2",10),e._uU(2),e.qZA(),e.TgZ(3,"div",11)(4,"div",12)(5,"div",13),e.YNc(6,ye,1,1,"avatar-lightbox",14),e.ALo(7,"async"),e.YNc(8,Re,2,2,"ng-template",null,15,e.W1O),e.YNc(10,Se,1,1,"ng-template",null,16,e.W1O),e.qZA(),e.TgZ(12,"image-upload",17,18),e.NdJ("uploadDone",function(o){return e.CHM(t),e.oxw().onUploadDone(o[0])}),e.qZA()(),e.YNc(14,Qe,4,5,"div",19),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"h2",20),e._uU(17),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(9),i=e.MAs(13),o=e.oxw();e.xp6(2),e.Oqu(o.i18n.user.title.image),e.xp6(4),e.Q6J("ngIf",e.lcZ(7,5,o.image$))("ngIfElse",t),e.xp6(8),e.Q6J("ngIf",!1===e.lcZ(15,7,i.uploading$)),e.xp6(3),e.Oqu(o.i18n.user.title.fields)}}function Je(n,s){if(1&n&&(e.TgZ(0,"label-value",31),e._UZ(1,"user-link",32),e.qZA()),2&n){const t=e.oxw();e.Q6J("label",t.i18n.user.broker),e.xp6(1),e.Q6J("user",t.data.broker)}}function Ue(n,s){if(1&n&&e._UZ(0,"input-field",33),2&n){const t=e.oxw();e.Q6J("label",t.data.nameLabel||t.i18n.user.name)}}function Le(n,s){if(1&n&&e._UZ(0,"input-field",34),2&n){const t=e.oxw();e.Q6J("label",t.i18n.user.username)}}function Ne(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"label-value",35),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("label",t.i18n.user.email),e.xp6(1),e.hij(" ",t.data.user.email," ")}}function Ee(n,s){if(1&n&&e._UZ(0,"field-privacy",40),2&n){const t=e.oxw(3);e.Q6J("control",t.form.get("hiddenFields"))}}function Oe(n,s){if(1&n&&e._UZ(0,"boolean-field",41),2&n){const t=e.oxw(3);e.Q6J("label",t.i18n.user.registration.skipActivationEmail)}}function Pe(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"label-value",36),e._UZ(2,"input-field",37),e.YNc(3,Ee,1,1,"field-privacy",38),e.qZA(),e.YNc(4,Oe,1,1,"boolean-field",39),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("label",t.i18n.user.email)("ignoreExtraCell",!t.canManagePrivacy("email"))("required",t.data.emailRequired),e.xp6(1),e.Q6J("required",t.data.emailRequired),e.xp6(2),e.Q6J("ngIf",t.data.allowSetSendActivationEmail)}}function Ye(n,s){if(1&n&&e.YNc(0,Pe,5,5,"ng-container",0),2&n){const t=e.oxw();e.Q6J("ngIf",t.canEdit("email"))}}function He(n,s){if(1&n&&e._UZ(0,"field-privacy",46),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.Q6J("field",t.internalName)("control",i.form.get("hiddenFields"))}}function qe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"label-value",43)(1,"custom-field-input",44),e.NdJ("imagesUploaded",function(o){return e.CHM(t),e.oxw(2).customImagesUploaded.emit(o)})("filesUploaded",function(o){return e.CHM(t),e.oxw(2).customFilesUploaded.emit(o)}),e.qZA(),e.YNc(2,He,1,2,"field-privacy",45),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("label",t.name)("ignoreExtraCell",!i.canManagePrivacy(t))("fieldSize",t.size)("required",t.required)("informationText",t.informationText),e.xp6(1),e.Q6J("field",t)("formControlName",t.internalName)}}function Me(n,s){if(1&n&&(e.ynx(0,1),e.YNc(1,qe,3,7,"label-value",42),e.BQk()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("formGroup",i.form.get("customValues")),e.xp6(1),e.Q6J("ngIf",i.canEdit(t))}}function $e(n,s){if(1&n&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.informationText,"")}}function De(n,s){if(1&n&&e._UZ(0,"field-privacy",46),2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Q6J("field",t.internalName)("control",i.form.get("hiddenFields"))}}function Be(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"label-value",43)(1,"custom-field-input",44),e.NdJ("imagesUploaded",function(o){return e.CHM(t),e.oxw(3).customImagesUploaded.emit(o)})("filesUploaded",function(o){return e.CHM(t),e.oxw(3).customFilesUploaded.emit(o)}),e.qZA(),e.YNc(2,De,1,2,"field-privacy",45),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("label",t.name)("ignoreExtraCell",!i.canManagePrivacy(t))("fieldSize",t.size)("required",t.required)("informationText",t.informationText),e.xp6(1),e.Q6J("field",t)("formControlName",t.internalName)}}function Ge(n,s){if(1&n&&(e.ynx(0,1),e.YNc(1,Be,3,7,"label-value",42),e.BQk()),2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("formGroup",i.form.get("customValues")),e.xp6(1),e.Q6J("ngIf",i.canEdit(t))}}function We(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.YNc(3,$e,2,1,"div",47),e.YNc(4,Ge,2,2,"ng-container",7),e.BQk()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.informationText),e.xp6(1),e.Q6J("ngForOf",i.fieldsWithSection.get(t))}}function ze(n,s){1&n&&e._UZ(0,"hr")}function je(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"label-value",35),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("label",t.i18n.phone.mobile),e.xp6(1),e.hij(" ",t.data.user.mobilePhones[0].number," ")}}function Ve(n,s){if(1&n&&e._UZ(0,"field-privacy",26),2&n){const t=e.oxw(3);e.Q6J("control",t.mobileForm.get("hidden"))}}function ke(n,s){if(1&n&&(e.TgZ(0,"label-value",50),e._UZ(1,"input-field",51),e.YNc(2,Ve,1,1,"field-privacy",52),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.phone.mobile)("required","required"===t.mobileAvailability)("formGroup",t.mobileForm),e.xp6(1),e.Q6J("placeholder",t.data.phoneConfiguration.mobileExample)}}function Xe(n,s){if(1&n&&(e.ynx(0),e.YNc(1,je,3,2,"ng-container",5),e.YNc(2,ke,3,4,"ng-template",null,49,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.fromExternalPayment&&(null==i.data.user.mobilePhones?null:i.data.user.mobilePhones.length)>0)("ngIfElse",t)}}function Ke(n,s){if(1&n&&e._UZ(0,"field-privacy",26),2&n){const t=e.oxw(2);e.Q6J("control",t.landLineForm.get("hidden"))}}function et(n,s){if(1&n&&e._UZ(0,"input-field",55),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.phone.extension)}}function tt(n,s){if(1&n&&(e.ynx(0,1),e.TgZ(1,"label-value",53),e._UZ(2,"input-field",51),e.YNc(3,Ke,1,1,"field-privacy",52),e.qZA(),e.YNc(4,et,1,1,"input-field",54),e.BQk()),2&n){const t=e.oxw();e.Q6J("formGroup",t.landLineForm),e.xp6(1),e.Q6J("label",t.i18n.phone.landLine)("required","required"===t.data.phoneConfiguration.landLineAvailability),e.xp6(1),e.Q6J("placeholder",t.data.phoneConfiguration.landLineExample),e.xp6(2),e.Q6J("ngIf",t.data.phoneConfiguration.extensionEnabled)}}function nt(n,s){if(1&n&&e._UZ(0,"boolean-field",59),2&n){const t=e.oxw(2);e.Q6J("formControl",t.defineAddress)("label",t.i18n.user.addressDefine)}}function it(n,s){if(1&n&&e._UZ(0,"address-form",60),2&n){const t=e.oxw(2);e.Q6J("addressForm",t.addressForm)("configuration",t.data.addressConfiguration)("managePrivacy",t.data.addressConfiguration.managePrivacy)}}function ot(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"static-map",64),e.NdJ("imageLoaded",function(){return e.CHM(t),e.oxw(3).mapShown()}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("address",t.addressForm.value)}}function st(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"action-button",28),e.NdJ("action",function(){return e.CHM(t),e.oxw(3).locateAddress()}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",e.lcZ(1,2,t.locatingAddress$))("label",t.i18n.general.mapView)}}function at(n,s){if(1&n&&(e.TgZ(0,"label-value",61),e.YNc(1,ot,1,1,"static-map",62),e.ALo(2,"async"),e.YNc(3,st,2,4,"ng-template",null,63,e.W1O),e.qZA()),2&n){const t=e.MAs(4),i=e.oxw(2);let o;e.Q6J("label",i.i18n.general.map),e.xp6(1),e.Q6J("ngIf",null!=(null==(o=e.lcZ(2,3,i.addressForm.get("location").valueChanges))?null:o.latitude))("ngIfElse",t)}}function rt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h2",20),e._uU(2),e.qZA(),e.YNc(3,nt,1,2,"boolean-field",56),e.YNc(4,it,1,3,"address-form",57),e.YNc(5,at,5,5,"label-value",58),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.i18n.address.address),e.xp6(1),e.Q6J("ngIf","required"!==t.data.addressConfiguration.availability),e.xp6(1),e.Q6J("ngIf",t.defineAddress.value),e.xp6(1),e.Q6J("ngIf",t.defineAddress.value&&t.maps.enabled)}}let lt=(()=>{class n extends _.H{constructor(t,i,o,c,h,Q){super(t),this.userHelper=i,this.imagesService=o,this.maps=c,this.changeDetector=h,this.fieldHelper=Q,this.imageUploaded=new e.vpe,this.imageRemoved=new e.vpe,this.customImagesUploaded=new e.vpe,this.customFilesUploaded=new e.vpe,this.fieldsWithSection=new Map,this.image$=new y.X(null),this.location$=new y.X(null),this.locatingAddress$=new y.X(!1)}get image(){return this.image$.value}set image(t){this.image$.next(t)}get location(){return this.location$.value}set location(t){this.location$.next(t)}ngOnInit(){super.ngOnInit(),this.editableFields=this.userHelper.fieldNamesByAction(this.data,"edit"),this.managePrivacyFields=this.userHelper.fieldNamesByAction(this.data,"managePrivacy");const t=Array.from(this.data.customFields.values());this.fieldsWithoutSection=t.filter(o=>null==o.section)||[];const i=new Map;t.map(o=>o.section).forEach(o=>{null!=o&&i.set(o.id,o)}),i.forEach(o=>{const c=t.filter(h=>null!=h.section&&h.section.id===o.id);(0,m.cS)(c)||c.forEach(h=>{this.canEdit(h)&&this.fieldsWithSection.set(o,c)})})}get mobileAvailability(){return this.data.phoneConfiguration.mobileAvailability}get landLineAvailability(){return this.data.phoneConfiguration.landLineAvailability}get addressAvailability(){return this.data.addressConfiguration.availability}get imageAvailability(){return this.data.imageConfiguration.availability}onUploadDone(t){this.addSub(this.doRemoveImage().subscribe(()=>{this.image=t,this.imageControl.setValue(this.image.id),this.imageUploaded.emit(this.image),this.changeDetector.detectChanges()}))}removeImage(){this.addSub(this.doRemoveImage().subscribe())}doRemoveImage(){if(this.imageControl.setValue(null),this.image){const t=this.image;return this.errorHandler.requestWithCustomErrorHandler(()=>new pe.y(i=>{this.imagesService.deleteImage({idOrKey:this.image.id}).subscribe(()=>{this.imageRemoved.emit(this.image),this.image=null,this.changeDetector.detectChanges(),i.next(t)})}))}return(0,ue.of)(null)}canEdit(t){return this.editableFields.has(this.fieldHelper.fieldName(t))}canManagePrivacy(t){return this.managePrivacyFields.has(this.fieldHelper.fieldName(t))}locateAddress(){const t=this.addressForm.value;this.locatingAddress$.next(!0),this.addSub(this.maps.geocode(t).subscribe(i=>{this.addressForm.patchValue({location:i}),this.changeDetector.detectChanges()},()=>this.mapShown()))}mapShown(){this.locatingAddress$.next(!1),this.changeDetector.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(L.T),e.Y36(N.C),e.Y36(de.Q),e.Y36(e.sBO),e.Y36(ge.A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["registration-step-fields"]],inputs:{data:"data",form:"form",mobileForm:"mobileForm",landLineForm:"landLineForm",addressForm:"addressForm",defineAddress:"defineAddress",imageControl:"imageControl",fromExternalPayment:"fromExternalPayment",image:"image"},outputs:{imageUploaded:"imageUploaded",imageRemoved:"imageRemoved",customImagesUploaded:"customImagesUploaded",customFilesUploaded:"customFilesUploaded"},features:[e.qOj],decls:14,vars:13,consts:[[4,"ngIf"],[3,"formGroup"],[3,"label",4,"ngIf"],["formControlName","name","required","",3,"label",4,"ngIf"],["formControlName","username","required","",3,"label",4,"ngIf"],[4,"ngIf","ngIfElse"],["fillEmail",""],[3,"formGroup",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[1,"border-0"],[1,"row"],[1,"col-12","col-sm-4"],[1,"d-flex","justify-content-center","justify-content-sm-start"],["size","huge",3,"image",4,"ngIf","ngIfElse"],["noImage",""],["noImageOptional",""],["containerClass","mt-3","target","userRegistration","keepUrls","",3,"uploadDone"],["upload",""],["class","col-12 col-sm-8 mt-3 mt-sm-0 d-flex justify-content-between justify-content-sm-end align-items-end",4,"ngIf"],[1,"mt-4"],["size","huge",3,"image"],[1,"d-flex","flex-column"],["tabindex","0",3,"ngClass"],[1,"required-marker"],[3,"control",4,"ngIf"],[3,"control"],[1,"col-12","col-sm-8","mt-3","mt-sm-0","d-flex","justify-content-between","justify-content-sm-end","align-items-end"],["outline","",3,"disabled","label","action"],["class","ml-3","outline","",3,"disabled","label","action",4,"ngIf"],["outline","",1,"ml-3",3,"disabled","label","action"],[3,"label"],["hideLink","",3,"user"],["formControlName","name","required","",3,"label"],["formControlName","username","required","",3,"label"],["kind","fieldView",3,"label"],["kind","field",3,"label","ignoreExtraCell","required"],["formControlName","email",3,"required"],["field","email",3,"control",4,"extraCell"],["formControlName","skipActivationEmail",3,"label",4,"ngIf"],["field","email",3,"control"],["formControlName","skipActivationEmail",3,"label"],["kind","field",3,"label","ignoreExtraCell","fieldSize","required","informationText",4,"ngIf"],["kind","field",3,"label","ignoreExtraCell","fieldSize","required","informationText"],["hideLabel","","hideInformationText","",3,"field","formControlName","imagesUploaded","filesUploaded"],[3,"field","control",4,"extraCell"],[3,"field","control"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["fillMobile",""],["kind","field",3,"label","required","formGroup"],["formControlName","number",3,"placeholder"],[3,"control",4,"extraCell"],["kind","field",3,"label","required"],["formControlName","extension","fieldSize","tiny",3,"label",4,"ngIf"],["formControlName","extension","fieldSize","tiny",3,"label"],["switch","",3,"formControl","label",4,"ngIf"],["ignoreContactFields","",3,"addressForm","configuration","managePrivacy",4,"ngIf"],["kind","field",3,"label",4,"ngIf"],["switch","",3,"formControl","label"],["ignoreContactFields","",3,"addressForm","configuration","managePrivacy"],["kind","field",3,"label"],[3,"address","imageLoaded",4,"ngIf","ngIfElse"],["viewMap",""],[3,"address","imageLoaded"]],template:function(t,i){if(1&t&&(e.YNc(0,Ae,18,9,"ng-container",0),e.ynx(1,1),e.YNc(2,Je,2,2,"label-value",2),e.YNc(3,Ue,1,1,"input-field",3),e.YNc(4,Le,1,1,"input-field",4),e.YNc(5,Ne,3,2,"ng-container",5),e.YNc(6,Ye,1,1,"ng-template",null,6,e.W1O),e.BQk(),e.YNc(8,Me,2,2,"ng-container",7),e.YNc(9,We,5,3,"ng-container",8),e.YNc(10,ze,1,0,"hr",0),e.YNc(11,Xe,4,2,"ng-container",0),e.YNc(12,tt,5,5,"ng-container",9),e.YNc(13,rt,6,4,"ng-container",0)),2&t){const o=e.MAs(7);e.Q6J("ngIf","disabled"!==i.imageAvailability),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf",i.data.broker),e.xp6(1),e.Q6J("ngIf",i.canEdit("name")),e.xp6(1),e.Q6J("ngIf",i.canEdit("username")),e.xp6(1),e.Q6J("ngIf",i.fromExternalPayment&&i.data.user.email)("ngIfElse",o),e.xp6(3),e.Q6J("ngForOf",i.fieldsWithoutSection),e.xp6(1),e.Q6J("ngForOf",i.fieldsWithSection.keys()),e.xp6(1),e.Q6J("ngIf",(i.fieldsWithSection.size>0||i.fieldsWithoutSection.length>0)&&("disabled"!==i.mobileAvailability||"disabled"!==i.landLineAvailability||"disabled"!==i.addressAvailability)),e.xp6(1),e.Q6J("ngIf","disabled"!==i.mobileAvailability),e.xp6(1),e.Q6J("ngIf","disabled"!==i.landLineAvailability),e.xp6(1),e.Q6J("ngIf","disabled"!==i.addressAvailability)}},directives:[C.O5,P.X,C.mk,_e.e,fe.J,Z.x,u.JL,u.sg,Y.t,he.F,H.q,u.JJ,u.u,u.Q7,xe.j,ve.x,q.M,C.sg,Ce.G,u.oH,be.C,Te.O],pipes:[C.Ov],encapsulation:2,changeDetection:0}),n})();var ct=r(1873),mt=r(6628),pt=r(9048),ut=r(7816),dt=r(4435),gt=r(4113);const _t=["securityAnswer"];function ft(n,s){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"avatar-lightbox",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("image",t.image)}}function ht(n,s){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"avatar-lightbox",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("size",t.image?200:128)("image",t.image)}}function xt(n,s){if(1&n&&e._UZ(0,"label-value",14),2&n){const t=e.oxw();e.Q6J("label",t.i18n.user.group)("value",t.group.name)}}function vt(n,s){if(1&n&&e._UZ(0,"label-value",14),2&n){const t=e.oxw();e.Q6J("label",t.data.nameLabel||t.i18n.user.name)("value",t.name)}}function Ct(n,s){if(1&n&&e._UZ(0,"label-value",14),2&n){const t=e.oxw();e.Q6J("label",t.i18n.user.username)("value",t.username)}}function bt(n,s){if(1&n&&e._UZ(0,"label-value",14),2&n){const t=e.oxw();e.Q6J("label",t.i18n.user.email)("value",t.email)}}function Tt(n,s){if(1&n&&(e.TgZ(0,"label-value",15),e._UZ(1,"format-field-value",16),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("label",t.name),e.xp6(1),e.Q6J("fields",i.customFields)("fieldName",t.internalName)("object",i.user)("images",i.customImages)("files",i.customFiles)}}function yt(n,s){if(1&n&&e._UZ(0,"label-value",14),2&n){const t=e.oxw();e.Q6J("label",t.i18n.phone.mobile)("value",t.mobile)}}function Zt(n,s){if(1&n&&e._UZ(0,"label-value",14),2&n){const t=e.oxw();e.Q6J("label",t.i18n.user.phoneAddLandLine)("value",t.landLine)}}function wt(n,s){if(1&n&&(e.TgZ(0,"label-value",15),e._UZ(1,"address-details-with-custom-fields",17),e.qZA()),2&n){const t=e.oxw();e.Q6J("label",t.i18n.address.address),e.xp6(1),e.Q6J("address",t.address)}}function Ft(n,s){if(1&n&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function Rt(n,s){if(1&n&&e._UZ(0,"boolean-field",21),2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.registration.passwordAssign)}}function St(n,s){if(1&n&&(e.TgZ(0,"label-value",27),e._UZ(1,"password-hints",28),e.qZA()),2&n){const t=e.oxw(2),i=t.$implicit,o=t.index,c=e.oxw();e.xp6(1),e.Q6J("passwordType",i)("control",c.passwordForm(o).controls.value)}}function It(n,s){if(1&n&&e._UZ(0,"password-hints",28),2&n){const t=e.oxw(2),i=t.$implicit,o=t.index,c=e.oxw();e.Q6J("passwordType",i)("control",c.passwordForm(o).controls.value)}}function Qt(n,s){if(1&n&&e._UZ(0,"boolean-field",29),2&n){const t=e.oxw(3);e.Q6J("label",t.i18n.user.registration.passwordForceChange)}}function At(n,s){if(1&n&&(e.ynx(0),e._UZ(1,"input-field",22),e.YNc(2,St,2,2,"label-value",23),e.ALo(3,"async"),e.YNc(4,It,1,2,"password-hints",24),e.ALo(5,"async"),e._UZ(6,"input-field",25),e.YNc(7,Qt,1,1,"boolean-field",26),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("label",t.name)("maxLength",t.maxLength),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,6,i.layout.gtxs$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,8,i.layout.ltsm$)),e.xp6(2),e.Q6J("label",i.i18n.user.passwordConfirmation(t.name)),e.xp6(1),e.Q6J("ngIf",t.canForceChange)}}function Jt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.ynx(3,7),e.YNc(4,Ft,2,1,"div",18),e.YNc(5,Rt,1,1,"boolean-field",19),e.YNc(6,At,8,10,"ng-container",9),e.BQk()()),2&n){const t=s.$implicit,i=s.index,o=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("formGroup",o.passwordForm(i)),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",o.login.user),e.xp6(1),e.Q6J("ngIf",o.passwordForm(i).get("defined").value)}}function Ut(n,s){if(1&n&&e._UZ(0,"field-option",33),2&n){const t=s.$implicit;e.Q6J("value",t.internalName)("text",t.name)}}function Lt(n,s){if(1&n&&e._UZ(0,"input-field",34,35),2&n){const t=e.oxw(3);e.Q6J("label",t.i18n.securityQuestion.answer)}}function Nt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",20),e._uU(4),e.qZA(),e.TgZ(5,"single-selection-field",30),e.YNc(6,Ut,1,2,"field-option",31),e.qZA(),e.YNc(7,Lt,2,1,"input-field",32),e.ALo(8,"async"),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.i18n.securityQuestion.question),e.xp6(2),e.hij(" ",t.i18n.user.securityQuestionMessage," "),e.xp6(1),e.Q6J("label",t.i18n.securityQuestion.question)("required",t.data.requireSecurityQuestion)("emptyOption",t.i18n.user.securityQuestionEmpty),e.xp6(1),e.Q6J("ngForOf",t.data.securityQuestions),e.xp6(1),e.Q6J("ngIf",!t.empty(e.lcZ(8,7,t.form.get("securityQuestion").valueChanges)))}}function Et(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",37),e._uU(2),e.qZA(),e._UZ(3,"accept-agreements",38),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Oqu(t.i18n.pendingAgreements.preface),e.xp6(1),e.Q6J("agreements",t.data.agreements)}}const Ot=function(n){return{"mt-3":n}};function Pt(n,s){if(1&n&&(e.TgZ(0,"div",39)(1,"div",37),e._uU(2),e.qZA(),e.TgZ(3,"div",37),e._UZ(4,"captcha",40),e.qZA()()),2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,Ot,(null==t.data.agreements?null:t.data.agreements.length)>0)),e.xp6(2),e.Oqu(t.i18n.user.captcha),e.xp6(2),e.Q6J("captchaInput",t.data.captchaInput)("form",t.form.get("captcha"))}}function Yt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.YNc(3,Et,4,2,"div",9),e.YNc(4,Pt,5,6,"div",36),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.i18n.user.title.registrationConfirmation," "),e.xp6(1),e.Q6J("ngIf",(null==t.data.agreements?null:t.data.agreements.length)>0),e.xp6(1),e.Q6J("ngIf",t.data.captchaInput)}}function Ht(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Nt,9,9,"ng-container",9),e.YNc(2,Yt,5,3,"ng-container",9),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.data.securityQuestions?null:t.data.securityQuestions.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.data.agreements?null:t.data.agreements.length)>0||t.data.captchaInput)}}let qt=(()=>{class n extends _.H{constructor(t,i){super(t),this.login=i,this.empty=m.cS,this.focusSecurityAnswer=!1}ngOnInit(){if(super.ngOnInit(),(0,m.cS)(this.data.securityQuestions)||this.addSub(this.form.get("securityQuestion").valueChanges.subscribe(t=>{this.focusSecurityAnswer=!(0,m.OW)(t)})),!(0,m.cS)(this.data.agreements)){const t=this.data.agreements.map(()=>!1);this.agreementsControl=this.formBuilder.array(t),this.addSub(this.agreementsControl.valueChanges.subscribe(i=>{const o=i.length===i.filter(c=>c).length;this.form.patchValue({acceptAgreement:o})}))}}ngAfterViewChecked(){this.focusSecurityAnswer&&(this.securityAnswer.forEach(t=>(0,m.T_)(t)),this.focusSecurityAnswer=!1)}passwordForm(t){return this.form.get("passwords").controls[t]}get group(){const t=this.dataForFrontendHolder.dataForUi.publicRegistrationGroups||[];return 1===t.length?null:t.find(i=>i.id===this.user.group)}get name(){return(this.user.name||"").trim()}get username(){return(this.user.username||"").trim()}get email(){return(this.user.email||"").trim()}get mobile(){const t=this.user.mobilePhones||[];return(0,m.cS)(t)?null:(t[0].number||"").trim()}get landLine(){const t=this.user.landLinePhones||[],i=(0,m.cS)(t)?null:(t[0].number||"").trim();if((0,m.cS)(i))return"";const o=(0,m.cS)(t)?null:(t[0].extension||"").trim();return""===o?i:this.i18n.phone.numberExtensionValue({number:i,extension:o})}get address(){const t=this.user.addresses||[];return(0,m.cS)(t)?null:t[0]}get customFields(){return this.data.customFields.filter(t=>!(0,m.OW)(this.user.customValues[t.internalName]))}get autocompletePasswords(){return(this.login.auth||{}).role?"off":"on"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(E.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["registration-step-confirm"]],viewQuery:function(t,i){if(1&t&&e.Gf(_t,5),2&t){let o;e.iGM(o=e.CRH())&&(i.securityAnswer=o)}},inputs:{data:"data",form:"form",user:"user",image:"image",customImages:"customImages",customFiles:"customFiles"},features:[e.qOj],decls:17,vars:17,consts:[["class","image d-flex justify-content-center mt-2 mb-4",4,"ngIf"],[1,"d-flex","flex-row-reverse"],["class","image ml-4 mb-3",4,"ngIf"],[1,"flex-grow-1","mb-ls"],[3,"label","value",4,"ngIf"],["valueFormat","component",3,"label",4,"ngFor","ngForOf"],["valueFormat","component",3,"label",4,"ngIf"],[3,"formGroup"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"image","d-flex","justify-content-center","mt-2","mb-4"],["size","160","imageSize","200",3,"image"],[1,"image","ml-4","mb-3"],["iconSize","128px",3,"size","image"],[3,"label","value"],["valueFormat","component",3,"label"],[3,"fields","fieldName","object","images","files"],[3,"address"],["class","mb-2",4,"ngIf"],["formControlName","defined",3,"label",4,"ngIf"],[1,"mb-2"],["formControlName","defined",3,"label"],["required","","formControlName","value","type","password","autocomplete","new-password",3,"label","maxLength"],["label"," ",4,"ngIf"],[3,"passwordType","control",4,"ngIf"],["required","","formControlName","confirmationValue","type","password","autocomplete","new-password",3,"label"],["formControlName","forceChange",3,"label",4,"ngIf"],["label"," "],[3,"passwordType","control"],["formControlName","forceChange",3,"label"],["formControlName","securityQuestion",3,"label","required","emptyOption"],[3,"value","text",4,"ngFor","ngForOf"],["formControlName","securityAnswer","required","",3,"label",4,"ngIf"],[3,"value","text"],["formControlName","securityAnswer","required","",3,"label"],["securityAnswer",""],[3,"ngClass",4,"ngIf"],[1,"mb-3"],["formControlName","acceptAgreements",3,"agreements"],[3,"ngClass"],[3,"captchaInput","form"]],template:function(t,i){1&t&&(e.YNc(0,ft,2,1,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.YNc(3,ht,2,2,"div",2),e.ALo(4,"async"),e.TgZ(5,"div",3),e.YNc(6,xt,1,2,"label-value",4),e.YNc(7,vt,1,2,"label-value",4),e.YNc(8,Ct,1,2,"label-value",4),e.YNc(9,bt,1,2,"label-value",4),e.YNc(10,Tt,2,6,"label-value",5),e.YNc(11,yt,1,2,"label-value",4),e.YNc(12,Zt,1,2,"label-value",4),e.YNc(13,wt,2,2,"label-value",6),e.qZA()(),e.ynx(14,7),e.YNc(15,Jt,7,5,"ng-container",8),e.YNc(16,Ht,3,2,"ng-container",9),e.BQk()),2&t&&(e.Q6J("ngIf",i.image&&e.lcZ(1,13,i.layout.ltsm$)),e.xp6(3),e.Q6J("ngIf",i.image&&e.lcZ(4,15,i.layout.gtxs$)),e.xp6(3),e.Q6J("ngIf",i.group),e.xp6(1),e.Q6J("ngIf",!i.empty(i.name)),e.xp6(1),e.Q6J("ngIf",!i.empty(i.username)),e.xp6(1),e.Q6J("ngIf",!i.empty(i.email)),e.xp6(1),e.Q6J("ngForOf",i.customFields),e.xp6(1),e.Q6J("ngIf",!i.empty(i.mobile)),e.xp6(1),e.Q6J("ngIf",!i.empty(i.landLine)),e.xp6(1),e.Q6J("ngIf",i.address),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngForOf",i.data.passwordTypes),e.xp6(1),e.Q6J("ngIf",!i.login.user))},directives:[C.O5,P.X,Y.t,C.sg,ct.x,mt.l,u.JL,u.sg,q.M,u.JJ,u.u,H.q,u.Q7,pt.w,ut.f,O.s,dt.l,C.mk,gt.h],pipes:[C.Ov],encapsulation:2,changeDetection:0}),n})();var Mt=r(2290),$t=r(3812);function Dt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"page-content",3),e.ALo(1,"async"),e.TgZ(2,"div",4),e._UZ(3,"registration-step-group",5),e.qZA(),e.TgZ(4,"actions",6)(5,"action-button",7),e.NdJ("action",function(){return e.CHM(t),e.oxw().showIdentityProviders()}),e.ALo(6,"async"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("heading",t.i18n.user.title.registration)("mobileHeading",t.i18n.user.mobileTitle.registration)("mode",e.lcZ(1,8,t.layout.ltsm$)?"fullHeight":"normal"),e.xp6(3),e.Q6J("groupSets",t.groupSets)("groups",t.groups)("control",t.group),e.xp6(2),e.Q6J("disabled",e.lcZ(6,10,t.requesting$))("label",t.i18n.general.next)}}function Bt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"action-button",10),e.NdJ("action",function(){return e.CHM(t),e.oxw(2).backToGroup()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.general.previous)}}function Gt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"page-content",3),e.ALo(1,"async"),e.TgZ(2,"div",4)(3,"registration-step-idp",8),e.NdJ("continue",function(o){return e.CHM(t),e.oxw().continueWithProvider(o)}),e.qZA()(),e.TgZ(4,"actions",6)(5,"action-button",7),e.NdJ("action",function(){return e.CHM(t),e.oxw().continueWithProvider(null)}),e.ALo(6,"async"),e.qZA(),e.YNc(7,Bt,1,1,"action-button",9),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("heading",t.i18n.user.title.registration)("mobileHeading",t.i18n.user.mobileTitle.registration)("mode",e.lcZ(1,7,t.layout.ltsm$)?"fullHeight":"normal"),e.xp6(3),e.Q6J("identityProviders",t.data.identityProviders),e.xp6(2),e.Q6J("disabled",e.lcZ(6,9,t.requesting$))("label",t.i18n.general.skip),e.xp6(2),e.Q6J("ngIf",t.groups.length>1)}}function Wt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"action-button",10),e.NdJ("action",function(){return e.CHM(t),e.oxw(2).backToIdentityProviders()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.general.previous)}}function zt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"page-content",3),e.ALo(1,"async"),e.TgZ(2,"div",4)(3,"registration-step-fields",11),e.NdJ("imageUploaded",function(o){return e.CHM(t),e.oxw().image=o})("imageRemoved",function(){return e.CHM(t),e.oxw().image=null})("customImagesUploaded",function(o){return e.CHM(t),e.oxw().addCustomImages(o)})("customFilesUploaded",function(o){return e.CHM(t),e.oxw().addCustomFiles(o)}),e.qZA()(),e.TgZ(4,"actions",6)(5,"action-button",7),e.NdJ("action",function(){return e.CHM(t),e.oxw().showConfirm()}),e.ALo(6,"async"),e.qZA(),e.YNc(7,Wt,1,1,"action-button",9),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("heading",t.i18n.user.title.registration)("mobileHeading",t.i18n.user.mobileTitle.registration)("mode",e.lcZ(1,15,t.layout.ltsm$)?"fullHeight":"normal"),e.xp6(3),e.Q6J("data",t.data)("form",t.form)("mobileForm",t.mobileForm)("landLineForm",t.landLineForm)("defineAddress",t.defineAddress)("addressForm",t.addressForm)("imageControl",t.imageControl)("image",t.image)("fromExternalPayment",t.fromExternalPayment()),e.xp6(2),e.Q6J("disabled",e.lcZ(6,17,t.requesting$))("label",t.i18n.general.next),e.xp6(2),e.Q6J("ngIf",t.groups.length>1||(null==t.data.identityProviders?null:t.data.identityProviders.length)>0)}}function jt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"page-content",3),e.ALo(1,"async"),e.TgZ(2,"div",4),e._UZ(3,"registration-step-confirm",12),e.qZA(),e.TgZ(4,"actions",6)(5,"action-button",7),e.NdJ("action",function(){return e.CHM(t),e.oxw().register()}),e.ALo(6,"async"),e.qZA(),e.TgZ(7,"action-button",10),e.NdJ("action",function(){return e.CHM(t),e.oxw().backToFields()}),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("heading",t.i18n.user.title.registrationConfirmation)("mobileHeading",t.i18n.user.mobileTitle.registrationConfirmation)("mode",e.lcZ(1,12,t.layout.ltsm$)?"fullHeight":"normal"),e.xp6(3),e.Q6J("data",t.data)("form",t.confirmForm)("user",t.userNew)("image",t.image)("customImages",t.customImages)("customFiles",t.customFiles),e.xp6(2),e.Q6J("disabled",e.lcZ(6,14,t.requesting$))("label",t.i18n.general.submit),e.xp6(2),e.Q6J("label",t.i18n.general.previous)}}function Vt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"action-button",15),e.NdJ("action",function(){return e.CHM(t),e.oxw(2).reload()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.registration.registerAnotherUser)}}function kt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"action-button",15),e.NdJ("action",function(){return e.CHM(t),e.oxw(2).viewProfile()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.user.registration.viewProfile)}}function Xt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"action-button",15),e.NdJ("action",function(){return e.CHM(t),e.oxw(2).goToLogin()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("label",t.i18n.menu.login)}}function Kt(n,s){if(1&n&&(e.TgZ(0,"page-content",3),e.ALo(1,"async"),e.TgZ(2,"div",4),e._UZ(3,"registration-step-done",13),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"actions",6),e.YNc(6,Vt,1,1,"action-button",14),e.YNc(7,kt,1,1,"action-button",14),e.YNc(8,Xt,1,1,"action-button",14),e.qZA()()),2&n){const t=e.oxw();e.Q6J("heading",t.i18n.user.title.registrationDone)("mobileHeading",t.i18n.user.mobileTitle.registrationDone)("mode",e.lcZ(1,7,t.layout.ltsm$)?"fullHeight":"normal"),e.xp6(3),e.Q6J("result",e.lcZ(4,9,t.result$)),e.xp6(3),e.Q6J("ngIf",t.login.user),e.xp6(1),e.Q6J("ngIf",t.login.user),e.xp6(1),e.Q6J("ngIf",!t.login.user)}}function en(n,s){1&n&&(e.TgZ(0,"page-content"),e._UZ(1,"spinner"),e.qZA())}const J="publicRegistrationExecution";let tn=(()=>{class n extends F.y{constructor(t,i,o,c,h,Q,U){super(t),this.usersService=i,this.userHelper=o,this.captchaHelper=c,this.imagesService=h,this.nextRequestState=Q,this.modal=U,this.steps=["group","idp","fields","confirm","done"],this.customImages=[],this.customFiles=[],this.asyncValidatorsEnabled=!1,this.step$=new y.X(null),this.result$=new y.X(null)}get step(){return this.step$.value}set step(t){this.step$.next(t)}get result(){return this.result$.value}set result(t){this.result$.next(t)}ngOnInit(){super.ngOnInit();const i=(this.login.auth||{}).role;if(null==i){const o=this.dataForFrontendHolder.dataForUi;let c;if(c=this.layout.ltmd?o.smallScreenRegistrationWizard:this.layout.md?o.mediumScreenRegistrationWizard:o.largeScreenRegistrationWizard,c){const h=localStorage.getItem(J);if(h){const U=this.modal.show(S,{ignoreBackdropClick:!0}).content;this.addSub(U.select.subscribe(nn=>{nn?this.router.navigate(["/wizards","run",h]):(localStorage.removeItem(J),this.goToWizard(c))}))}else this.goToWizard(c);return}this.initializeGroups(o.publicRegistrationGroups)}else this.addSub(this.usersService.getUserDataForSearch({broker:i===b.g.BROKER?f.S.SELF:null,fields:["groupsForRegistration"]}).subscribe(o=>{this.groupSets=o.groupsForRegistration.filter(h=>h.kind===p.GROUP_SET),o.groupsForRegistration.find(h=>h.kind!==p.GROUP_SET&&null==h.groupSet)&&this.groupSets.unshift(null),this.initializeGroups(o.groupsForRegistration.filter(h=>h.kind!==p.GROUP_SET))}))}initializeGroups(t){null==this.groups&&(this.groups=t,(0,m.cS)(this.groups)?this.router.navigateByUrl("/"):(this.group=new u.NI(t[0].id,u.kI.required),1===t.length?(this.steps=this.steps.filter(i=>"group"!==i),this.showIdentityProviders()):this.step="group"))}ngOnDestroy(){super.ngOnDestroy(),this.image&&(URL.revokeObjectURL(this.image.url),this.errorHandler.requestWithCustomErrorHandler(()=>{this.addSub(this.imagesService.deleteImage({idOrKey:this.image.id}).subscribe())}))}showIdentityProviders(){this.addSub(this.usersService.getUserDataForNew({group:this.group.value,inviteToken:localStorage.getItem("inviteToken")||d.Z.get("inviteToken"),externalPaymentToken:this.route.snapshot.params.externalPaymentToken,fields:["-agreements.content"]}).subscribe(t=>{this.data=t,(0,m.cS)(t.identityProviders)?this.showFields():this.step="idp"}))}continueWithProvider(t){t?this.authHelper.identityProviderPopup(t,"register",this.group.value,null,this.login.getUserAgentId()).pipe((0,l.P)()).subscribe(i=>{switch(i.status){case a.G.REGISTRATION_DONE:this.nextRequestState.replaceSession(i.sessionToken).pipe((0,l.P)()).subscribe(()=>{(0,m.J0)(!0),this.dataForFrontendHolder.initialize().pipe((0,l.P)()).subscribe(c=>{(0,m.J0)(!1),f.S.isRestrictedAccess(c)||this.router.navigateByUrl("")})});break;case a.G.REGISTRATION_DATA:this.identityProviderRequestId=i.requestId,this.data.captchaInput=null;const o=this.data.user;if(i.name&&(o.name=i.name),i.username&&(o.username=i.username),i.email&&(o.email=i.email),i.mobilePhone&&(o.mobilePhones=[{number:i.mobilePhone}]),i.landLinePhone&&(o.landLinePhones=[{number:i.landLinePhone,extension:i.landLineExtension}]),i.customValues){o.customValues||(o.customValues={});for(const c of Object.keys(i.customValues))o.customValues[c]=i.customValues[c]}i.image&&(o.images=[i.image.id],this.image=i.image),this.showFields();break;default:this.notification.error(i.errorMessage||this.i18n.error.general)}}):this.showFields()}showFields(){this.prepareForms(this.data),(0,m.rm)()}backToGroup(){this.form=null,this.data=null,this.step="group"}backToIdentityProviders(){this.data&&!(0,m.cS)(this.data.identityProviders)?this.step="idp":this.backToGroup()}backToFields(){this.confirmForm=null,this.step="fields"}prepareForms(t){this.form=this.formBuilder.group({group:this.group.value,hiddenFields:[t.user.hiddenFields||[]]});const o=t.imageConfiguration.availability;let c;o!==w.e.DISABLED&&(this.imageControl=new u.NI(null,o===w.e.REQUIRED?u.kI.required:null)),[this.mobileForm,this.landLineForm]=this.userHelper.setupRegistrationForm(this.form,t,!this.login.user),[this.addressForm,this.defineAddress,c]=this.userHelper.registrationAddressForm(t.addressConfiguration),c.forEach(h=>this.addSub(h)),this.data=t,this.step="fields"}showConfirm(){const t=new u.cw({user:this.form});this.data.imageConfiguration.availability===w.e.REQUIRED&&t.setControl("image",this.imageControl),this.mobileForm&&t.setControl("mobile",this.mobileForm),this.landLineForm&&t.setControl("landLine",this.landLineForm),this.addressForm&&this.defineAddress.value&&t.setControl("address",this.addressForm),this.asyncValidatorsEnabled=!0;const i=(0,m.pt)(t,!0);this.addSub((0,m.BH)(i).subscribe(o=>{this.asyncValidatorsEnabled=!1,o?this.doShowConfirm():(0,m.LZ)()}))}doShowConfirm(){const t=this.data;this.confirmForm=this.formBuilder.group({});const i=this.userHelper.passwordRegistrationForms(t);this.confirmForm.setControl("passwords",this.formBuilder.array(i)),(0,m.cS)(t.securityQuestions)||(this.confirmForm.setControl("securityQuestion",this.formBuilder.control("")),this.confirmForm.setControl("securityAnswer",this.formBuilder.control("",this.userHelper.securityAnswerValidation))),(0,m.cS)(t.agreements)||this.confirmForm.setControl("acceptAgreements",this.formBuilder.control([])),t.captchaInput&&this.confirmForm.setControl("captcha",this.captchaHelper.captchaFormGroup(t.captchaInput)),this.step="confirm",(0,m.SM)()}register(){const t=(0,m.pt)(this.confirmForm,!0);this.addSub((0,m.BH)(t).subscribe(i=>{i?this.addSub(this.usersService.createUser({body:this.userNew}).subscribe(o=>{this.result=o,this.image=null,localStorage.removeItem("inviteToken"),d.Z.remove("inviteToken",{path:"/"}),this.step="done"})):(0,m.LZ)()}))}get userNew(){const t=this.form.value;t.identityProviderRequestId=this.identityProviderRequestId;const i=(this.mobileForm||{}).value,o=(this.landLineForm||{}).value,c=(this.addressForm||{}).value;return this.image&&(t.images=[this.image.id]),i&&!(0,m.OW)(i.number)&&(t.mobilePhones=[i]),o&&!(0,m.OW)(o.number)&&(t.landLinePhones=[o]),c&&this.defineAddress.value&&(t.addresses=[c]),(0,m.BS)(this.confirmForm.value,t),t.inviteToken=d.Z.get("inviteToken"),t.externalPaymentToken=this.route.snapshot.params.externalPaymentToken,t.userAgentId=this.login.getUserAgentId(),t}fromExternalPayment(){return!!this.route.snapshot.params.externalPaymentToken}goToLogin(){this.login.goToLoginPage("")}viewProfile(){const t=this.result;t&&this.router.navigate(["/users",t.user.id,"profile"])}addCustomImages(t){this.customImages=[...this.customImages,...t]}addCustomFiles(t){this.customFiles=[...this.customFiles,...t]}resolveMenu(){switch(this.dataForFrontendHolder.role){case b.g.ADMINISTRATOR:return v.v2.ADMIN_REGISTRATION;case b.g.BROKER:return v.v2.BROKER_REGISTRATION;default:return v.v2.PUBLIC_REGISTRATION}}goToWizard(t){const i=this.route.snapshot.params.externalPaymentToken;let o=`/wizards/registration/${f.S.internalNameOrId(t)}`;i&&(o+=`/${i}`),this.router.navigateByUrl(o,{replaceUrl:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(x.f),e.Y36(L.T),e.Y36(M.D),e.Y36(N.C),e.Y36($.AM),e.Y36(g.tT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["user-registration"]],features:[e.qOj],decls:9,vars:11,consts:[["size","large",3,"ready","ngSwitch"],["last","",3,"heading","mobileHeading","mode",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["last","",3,"heading","mobileHeading","mode"],[1,"flex-grow-1"],[3,"groupSets","groups","control"],["forceRow",""],[3,"disabled","label","action"],[3,"identityProviders","continue"],["outline","",3,"label","action",4,"ngIf"],["outline","",3,"label","action"],[3,"data","form","mobileForm","landLineForm","defineAddress","addressForm","imageControl","image","fromExternalPayment","imageUploaded","imageRemoved","customImagesUploaded","customFilesUploaded"],[3,"data","form","user","image","customImages","customFiles"],[3,"result"],[3,"label","action",4,"ngIf"],[3,"label","action"]],template:function(t,i){1&t&&(e.TgZ(0,"page-layout",0),e.ALo(1,"async"),e.ALo(2,"async"),e.YNc(3,Dt,7,12,"page-content",1),e.YNc(4,Gt,8,11,"page-content",1),e.YNc(5,zt,8,19,"page-content",1),e.YNc(6,jt,8,16,"page-content",1),e.YNc(7,Kt,9,11,"page-content",1),e.YNc(8,en,2,0,"page-content",2),e.qZA()),2&t&&(e.Q6J("ready",e.lcZ(1,7,i.step$))("ngSwitch",e.lcZ(2,9,i.step$)),e.xp6(3),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","idp"),e.xp6(1),e.Q6J("ngSwitchCase","fields"),e.xp6(1),e.Q6J("ngSwitchCase","confirm"),e.xp6(1),e.Q6J("ngSwitchCase","done"))},directives:[D.w,C.RF,C.n9,B.Y,oe,T.h,Z.x,me,C.O5,lt,qt,Mt.F,C.ED,$t.O],pipes:[C.Ov],encapsulation:2,changeDetection:0}),n})()},5244:(A,R,r)=>{function u(f){for(var m=1;m<arguments.length;m++){var F=arguments[m];for(var v in F)f[v]=F[v]}return f}r.d(R,{Z:()=>w});const w=function b(f,m){function F(e,_,g){if("undefined"!=typeof document){"number"==typeof(g=u({},m,g)).expires&&(g.expires=new Date(Date.now()+864e5*g.expires)),g.expires&&(g.expires=g.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var T="";for(var Z in g)!g[Z]||(T+="; "+Z,!0!==g[Z]&&(T+="="+g[Z].split(";")[0]));return document.cookie=e+"="+f.write(_,e)+T}}return Object.create({set:F,get:function v(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var _=document.cookie?document.cookie.split("; "):[],g={},T=0;T<_.length;T++){var Z=_[T].split("="),I=Z.slice(1).join("=");try{var S=decodeURIComponent(Z[0]);if(g[S]=f.read(I,S),e===S)break}catch(d){}}return e?g[e]:g}},remove:function(e,_){F(e,"",u({},_,{expires:-1}))},withAttributes:function(e){return b(this.converter,u({},this.attributes,e))},withConverter:function(e){return b(u({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(m)},converter:{value:Object.freeze(f)}})}({read:function(f){return'"'===f[0]&&(f=f.slice(1,-1)),f.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(f){return encodeURIComponent(f).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);